import{_ as z,a as y,r as I,b as N,E as S,c as n,l as q,o,d as _,e as v,f as t,w as s,m as w,n as E,g as R,t as c,i}from"./index-a36b71d3.js";const L={class:"distribution-content"},M={class:"top-search"},P={key:0,style:{"margin-left":"20px"}},T={key:1,style:{"margin-left":"20px"}},U={key:0,style:{"margin-left":"20px"}},j={key:1,style:{"margin-left":"20px"}},A={key:0,style:{"margin-left":"20px"}},F={key:1,style:{"margin-left":"20px"}},G={class:"list-pagination"},H={__name:"BindingRecords",setup(J){const b=y([]),a=I({page:1,pageSize:10,total:0,pageCount:0,search:""}),d=y(!1);g();async function g(){d.value=!0;const{data:l={}}=await N.post("/hxai/api/distribution/bg/user/bind/list",{page:a.page,size:a.pageSize,search:a.search});if(l!=null&&l.data){const{list:r=[],page:u={}}=l.data;a.total=u.total_count,a.pageCount=u.total_page,b.value=r}else S.error(l==null?void 0:l.msg);d.value=!1}function x(){a.page=1,g()}function k(l){a.page=l,g()}return(l,r)=>{const u=n("el-input"),C=n("el-button"),p=n("el-table-column"),m=n("el-avatar"),h=n("el-col"),f=n("el-row"),B=n("el-table"),D=n("el-pagination"),V=q("loading");return o(),_("div",L,[v("div",M,[t(u,{class:"input-search",placeholder:"手机号/用户名/用户ID",modelValue:a.search,"onUpdate:modelValue":r[0]||(r[0]=e=>a.search=e)},null,8,["modelValue"]),t(C,{class:"btn-search",type:"primary",onClick:x},{default:s(()=>[R("查询")]),_:1})]),w((o(),E(B,{data:b.value,class:"table-list","row-class-name":"table-list-row","cell-class-name":"table-cell","header-cell-class-name":"table-header-cell"},{default:s(()=>[t(p,{prop:"user_id",label:"用户ID",width:"180"}),t(p,{prop:"name",label:"用户",width:"300"},{default:s(({row:e})=>[t(f,{type:"flex"},{default:s(()=>[t(h,{span:24},{default:s(()=>[t(m,{shape:"square",size:"small",src:e.headimgurl},null,8,["src"]),e.nickname?(o(),_("span",P,c(e.nickname),1)):i("",!0),e.mobile?(o(),_("span",T,c(e.mobile),1)):i("",!0)]),_:2},1024)]),_:2},1024)]),_:1}),t(p,{prop:"create_time",label:"绑定时间"}),t(p,{label:"上级用户"},{default:s(({row:e})=>[t(f,{type:"flex"},{default:s(()=>[t(h,{span:24},{default:s(()=>[t(m,{shape:"square",size:"small",src:e.one_p_user_headimgurl},null,8,["src"]),e.one_p_user_un?(o(),_("span",U,c(e.one_p_user_un),1)):i("",!0),e.one_p_user_telephone?(o(),_("span",j,c(e.one_p_user_telephone),1)):i("",!0)]),_:2},1024)]),_:2},1024)]),_:1}),t(p,{label:"上上级用户"},{default:s(({row:e})=>[t(f,{type:"flex"},{default:s(()=>[t(h,{span:24},{default:s(()=>[t(m,{shape:"square",size:"small",src:e.two_p_user_headimgurl},null,8,["src"]),e.two_p_user_un?(o(),_("span",A,c(e.two_p_user_un),1)):i("",!0),e.two_p_user_telephone?(o(),_("span",F,c(e.two_p_user_telephone),1)):i("",!0)]),_:2},1024)]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[V,d.value]]),v("div",G,[t(D,{background:"",layout:"prev, pager, next",total:a.total,"page-count":a.pageCount,onCurrentChange:k},null,8,["total","page-count"])])])}}},O=z(H,[["__scopeId","data-v-9e23eac0"]]);export{O as default};
