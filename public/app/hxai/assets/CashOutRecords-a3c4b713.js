import{_ as F,a as V,r as U,b as S,E as b,c as n,l as M,o as u,d as _,e as m,f as t,w as a,m as P,n as T,F as $,q as j,g as p,t as r,i as D}from"./index-a6d6ec9c.js";const G={class:"distribution-content"},H={class:"top-search"},J={key:0,style:{"margin-left":"20px"}},K={key:1,style:{"margin-left":"20px"}},Q={style:{color:"#EA0000"}},W=["src"],X={key:0},Y={key:1},Z={class:"list-pagination"},ee={__name:"CashOutRecords",setup(te){const v=[{text:"申请中",value:1},{text:"已拒绝",value:2},{text:"已打款",value:3}],z={1:"微信",2:"支付宝"},f=V([]),l=U({page:1,pageSize:10,total:0,pageCount:0,search:"",selectState:""}),d=V(!1);h();async function h(){d.value=!0;const{data:s={}}=await S.post("/hxai/api/distribution/bg/withdraw/list",{page:l.page,size:l.pageSize,search:l.search,status:l.selectState});if(s!=null&&s.data){const{list:c=[],page:o={}}=s.data;l.total=o.total_count,l.pageCount=o.total_page,f.value=c}else b.error(s==null?void 0:s.msg);d.value=!1}function E(){l.page=1,h()}function B(s){l.page=s,h()}async function y(s,c){if(!c)return!1;d.value=!0;const{data:o={}}=await S.post("/hxai/api/distribution/bg/withdraw/action",{id:f.value[+s].id,action_type:c});o!=null&&o.data?(h(),b.success("操作成功")):b.error(o==null?void 0:o.msg),d.value=!1}return(s,c)=>{const o=n("el-input"),L=n("el-option"),N=n("el-select"),g=n("el-button"),i=n("el-table-column"),x=n("el-avatar"),w=n("el-col"),k=n("el-row"),O=n("el-popover"),R=n("el-table"),q=n("el-pagination"),I=M("loading");return u(),_("div",G,[m("div",H,[t(o,{class:"input-search",placeholder:"手机号/用户名/用户ID",modelValue:l.search,"onUpdate:modelValue":c[0]||(c[0]=e=>l.search=e)},null,8,["modelValue"]),t(N,{modelValue:l.selectState,"onUpdate:modelValue":c[1]||(c[1]=e=>l.selectState=e),clearable:"",placeholder:"请选择状态",class:"select-search"},{default:a(()=>[(u(),_($,null,j(v,e=>t(L,{key:e.value,label:e.text,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),t(g,{class:"btn-search",type:"primary",onClick:E},{default:a(()=>[p("查询")]),_:1})]),P((u(),T(R,{data:f.value,class:"table-list","row-class-name":"table-list-row","cell-class-name":"table-cell","header-cell-class-name":"table-header-cell"},{default:a(()=>[t(i,{prop:"number",label:"提现编号",width:"200"}),t(i,{prop:"status",label:"状态",width:"80"},{default:a(({row:e})=>[p(r(+e.status>0?v[+e.status-1].text:""),1)]),_:1}),t(i,{label:"用户",width:"300"},{default:a(({row:e})=>[t(k,{type:"flex"},{default:a(()=>[t(w,null,{default:a(()=>[t(x,{shape:"square",size:"small",src:e.headimgurl},null,8,["src"]),e.nickname?(u(),_("span",J,r(e.nickname),1)):D("",!0),e.mobile?(u(),_("span",K,r(e.mobile),1)):D("",!0)]),_:2},1024)]),_:2},1024)]),_:1}),t(i,{prop:"withdraw_money",label:"提现金额",width:"80"},{default:a(({row:e})=>[p(" ￥"+r(e.withdraw_money||0),1)]),_:1}),t(i,{prop:"address",label:"应打款",width:"80"},{default:a(({row:e})=>[m("span",Q,"￥"+r(e.real_money||0),1)]),_:1}),t(i,{prop:"address",label:"提现费率",align:"center",width:"80"},{default:a(({row:e})=>[p(r(e.rate||0)+"% ",1)]),_:1}),t(i,{prop:"create_time",label:"申请时间",width:"200"}),t(i,{label:"提现账户",width:"300"},{default:a(({row:e})=>[t(k,{type:"flex"},{default:a(()=>[t(w,{span:24},{default:a(()=>[m("span",null,r(z[+e.type||1])+"-"+r(e.name),1),t(x,{shape:"square",size:"small",src:e.headimgurl,style:{"margin-left":"20px"}},null,8,["src"]),t(O,{trigger:"click",width:"auto",placement:"bottom-start"},{reference:a(()=>[t(g,{type:"text",style:{"margin-left":"20px"}},{default:a(()=>[p("查看收款码")]),_:1})]),default:a(()=>[m("img",{src:e.img_url,alt:"",width:"300"},null,8,W)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1}),t(i,{label:"操作",fixed:"right",width:"150"},{default:a(({row:e,$index:C})=>[+e.status==1?(u(),_("span",X,[t(g,{type:"text",onClick:A=>y(C,2)},{default:a(()=>[p("已打款")]),_:2},1032,["onClick"]),t(g,{type:"text",style:{color:"#EA0000"},onClick:A=>y(C,3)},{default:a(()=>[p("拒绝")]),_:2},1032,["onClick"])])):(u(),_("span",Y,r(e.update_time),1))]),_:1})]),_:1},8,["data"])),[[I,d.value]]),m("div",Z,[t(q,{background:"",layout:"prev, pager, next",total:l.total,"page-count":l.pageCount,onCurrentChange:B},null,8,["total","page-count"])])])}}},le=F(ee,[["__scopeId","data-v-2b91fc0b"]]);export{le as default};
