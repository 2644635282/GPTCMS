(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-collect"],{"22b1":function(t,e,n){var a=n("b4e8");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("78f9ed39",a,!0,{sourceMap:!1,shadowMode:!1})},"2cf1":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("4de4"),n("d3b7"),n("159b"),n("99af"),n("ac1f"),n("5319"),n("5b81"),n("a434");var i=a(n("c7eb")),o=a(n("1da1")),r=a(n("ba67")),s=a(n("2361")),c=(a(n("a57b")),n("3cbe"),n("9133"),a(n("a9c7"))),l=a(n("fcbc")),p=a(n("0208")),d={name:"easyChat",components:{viewer:l.default,popup:r.default,chatItem:s.default},data:function(){return{active:1,page:1,chatList:[],model_id:null,form:{},message:"",placeholder:"",isLoading:!1,userInfo:{},models:[],currentModel:null,selectModel:!1,context:p.default,isChecking:!1,showCollect:!1,showCollectId:0,isToTop:!1,imgs:null,currentView:null}},onLoad:function(t){var e=this;return(0,o.default)((0,i.default)().mark((function n(){var a;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.model_id=t.id||"",e.placeholder=t.msg,n.next=4,e.$u.api.userInfo();case 4:e.userInfo=n.sent,e.userInfo=(null===(a=e.userInfo)||void 0===a?void 0:a.data)||{},e.getDataList();case 7:case"end":return n.stop()}}),n)})))()},computed:{answer:function(){var t=this.chatList.filter((function(t){return"我"!=t.role}));return t.length?t.pop():null},question:function(){var t=this.chatList.filter((function(t){return"我"==t.role}));return t.length?t.pop():null}},methods:{changActive:function(t,e){t>0&&(this.isToTop=!1,this.active=t,this.page=1,this.type=e,this.chatList=[],this.getDataList())},mdContenxt:function(t){return c.default.render(t)},goBack:function(){uni.navigateBack({delta:1})},getDataList:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.active){e.next=6;break}return e.next=3,t.$u.api.chatCollectList({page:t.page}).then((function(e){console.log(e,"res"),e.data.data.forEach((function(t){t.un_response.length>99?(t.isShowAllContent=!0,t.tempContent=t.un_response.substr(0,99)+"..."):(t.isShowAllContent=!1,t.tempContent=t.un_response)})),1==t.page?t.chatList=e.data.data:t.chatList=t.chatList.concat(e.data.data)})).catch((function(t){console.log(t)}));case 3:e.sent,e.next=22;break;case 6:if(2!=t.active){e.next=12;break}return e.next=9,t.$u.api.createCollectList({page:t.page}).then((function(e){console.log(e,"res"),e.data.data.forEach((function(t){t.un_response.length>99?(t.isShowAllContent=!0,t.tempContent=t.un_response.substr(0,99)+"..."):(t.isShowAllContent=!1,t.tempContent=t.un_response)})),1==t.page?t.chatList=e.data.data:t.chatList=t.chatList.concat(e.data.data)})).catch((function(t){console.log(t)}));case 9:e.sent,e.next=22;break;case 12:if(3!=t.active){e.next=18;break}return e.next=15,t.$u.api.paintCollectList({page:t.page}).then((function(e){console.log(e,"res"),e.data.data.forEach((function(t){t.un_response.length>99?(t.isShowAllContent=!0,t.tempContent=t.un_response.substr(0,99)+"..."):(t.isShowAllContent=!1,t.tempContent=t.un_response)})),1==t.page?t.chatList=e.data.data:t.chatList=t.chatList.concat(e.data.data)})).catch((function(t){console.log(t)}));case 15:e.sent,e.next=22;break;case 18:if(4!=t.active){e.next=22;break}return e.next=21,t.$u.api.assistCollectList({page:t.page}).then((function(e){console.log(e,"res"),e.data.data.forEach((function(t){t.un_response.length>99?(t.isShowAllContent=!0,t.tempContent=t.un_response.substr(0,99)+"..."):(t.isShowAllContent=!1,t.tempContent=t.un_response)})),1==t.page?t.chatList=e.data.data:t.chatList=t.chatList.concat(e.data.data)})).catch((function(t){console.log(t)}));case 21:e.sent;case 22:case"end":return e.stop()}}),e)})))()},toggleDescription:function(t){this.chatList.forEach((function(e){console.log([t.id,e.id]),e.id==t.id&&(t.isShowAllContent?(e.isShowAllContent=!1,e.tempContent=e.un_response):(e.isShowAllContent=!0,e.tempContent=e.un_response.substr(0,99)+"..."))}))},scrollToBottom:function(){console.log("触底"),this.$refs.pageContent&&this.$refs.pageContent.$el.scrollTo({top:1e6,behavior:"smooth"})},copy:function(t){var e=t.replaceAll("<br/>","\n");e=e.replaceAll("&nbsp;"," "),uni.setClipboardData({data:e,success:function(){}})},onclickCollect:function(t){console.log(t),1==t.status&&(this.showCollectId=t.id||0,this.showCollect=!0)},goTop:function(t){uni.pageScrollTo({scrollTop:0,duration:0===t||t?t:500})},collectSession:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(4!=t.active){e.next=6;break}return e.next=3,t.$u.api.assistCollect({collect_id:t.showCollectId||0}).then((function(e){t.$u.toast(e.msg),t.showCollect=!1;var n=t.chatList;n.forEach((function(e,a){e.id==t.showCollectId&&n.splice(a,1)})),t.chatList=n})).catch((function(t){console.log(t)}));case 3:e.sent,e.next=21;break;case 6:if(2!=t.active){e.next=12;break}return e.next=9,t.$u.api.createCollect({collect_id:t.showCollectId||0}).then((function(e){t.$u.toast(e.msg),t.showCollect=!1;var n=t.chatList;n.forEach((function(e,a){e.id==t.showCollectId&&n.splice(a,1)})),t.chatList=n})).catch((function(t){console.log(t)}));case 9:e.sent,e.next=21;break;case 12:if(3!=t.active){e.next=18;break}return e.next=15,t.$u.api.paintCollect({collect_id:t.showCollectId||0}).then((function(e){t.$u.toast(e.msg),t.showCollect=!1;var n=t.chatList;n.forEach((function(e,a){e.id==t.showCollectId&&n.splice(a,1)})),t.chatList=n})).catch((function(t){console.log(t)}));case 15:e.sent,e.next=21;break;case 18:return e.next=20,t.$u.api.chatCollect({collect_id:t.showCollectId||0}).then((function(e){t.$u.toast(e.msg),t.showCollect=!1;var n=t.chatList;n.forEach((function(e,a){e.id==t.showCollectId&&n.splice(a,1)})),t.chatList=n})).catch((function(t){console.log(t)}));case 20:e.sent;case 21:case"end":return e.stop()}}),e)})))()},viewCanvas:function(t){this.imgs=[{src:t}]}},onPageScroll:function(t){console.log("滑动"),this.isToTop=!0},onReachBottom:function(){uni.$emit("onReachBottom")},mounted:function(){var t=this;uni.$on("onReachBottom",(function(){t.page++,t.getDataList()}))}};e.default=d},"398a":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("c7eb")),o=a(n("1da1"));n("c975");var r={name:"imgviewer",props:{imgs:{default:function(){return[]}},curImage:{type:Object},hideClose:{type:Boolean,default:!1},hidePreview:{type:Boolean,default:!1},hideToolbar:{type:Boolean,default:!1},hideName:{type:Boolean,default:!1},maskClose:{type:Boolean,default:!1}},data:function(){return{moving:!1,lastTop:0,lastLeft:0,clientWidth:0,clientHeight:0,scale:"0",rotate:0,showtip:!1,tipTimeout:null,lastPercentX:0,lastPercentY:0,isOneToOne:!1,naturalWidth:0,naturalHeight:0,curImg:null,resize:null,image:null}},beforeMount:function(){this.curImg=this.curImage||this.imgs[0]},mounted:function(){var t=this;this.image=this.$refs.image,this.$nextTick((function(){return t.focus()}));var e=window,n=this.image,a=n.style;this.resize=new e.ResizeObserver((function(e){if(t.$refs.imgwrapper){var n=t.$refs.imgwrapper.getBoundingClientRect();t.lastTop=n.height*t.lastPercentY-t.clientHeight/2,t.lastLeft=n.width*t.lastPercentX-t.clientWidth/2,a.top="".concat(t.lastTop,"px"),a.left="".concat(t.lastLeft,"px")}})),this.resize.observe(this.$refs.imgwrapper),this.$el.addEventListener("pointerdown",(function(e){t.pdown(e)})),this.$el.addEventListener("wheel",(function(e){t.wheel(e)}))},unmount:function(){clearTimeout(this.tipTimeout),this.resize.disconnect()},methods:{focus:function(){this.$el.focus()},pdown:function(t){var e=this;if(this.maskClose&&t.target!=this.$refs.image)this.close();else{this.moving=!0,this.focus();var n=t.clientX,a=t.clientY,i=this.image,o=i.style,r=this.lastTop||0,s=this.lastLeft||0,c=function(t){var c=t.clientX-n,l=t.clientY-a;e.lastTop=r+l,e.lastLeft=s+c,o.top="".concat(e.lastTop,"px"),o.left="".concat(e.lastLeft,"px");var p=e.$refs.imgwrapper;e.lastPercentX=(i.offsetLeft+e.clientWidth/2)/p.clientWidth,e.lastPercentY=(i.offsetTop+e.clientHeight/2)/p.clientHeight};t.currentTarget.setPointerCapture(t.pointerId);var l,p="ontouchstart"in document.documentElement;p?(l=function(t){return c(t.targetTouches[0])},addEventListener("touchmove",l)):addEventListener("pointermove",c),addEventListener(p?"touchend":"pointerup",(function(){removeEventListener("touchmove",l),removeEventListener("pointermove",c),e.moving=!1}),{once:!0})}},doScale:function(t,e,n,a){var i=this;this.lastTop=this.lastTop-t,this.lastLeft=this.lastLeft-e;var o=this.image,r=o.style;this.clientWidth=n,this.clientHeight=a,this.showtip=!0,clearTimeout(this.tipTimeout),this.tipTimeout=setTimeout((function(){i.showtip=!1}),1500),this.scale=(n/o.naturalWidth*100).toFixed(0),r.width="".concat(n,"px"),r.top="".concat(this.lastTop,"px"),r.left="".concat(this.lastLeft,"px"),this.isOneToOne=n==this.image.naturalWidth;var s=this.$refs.imgwrapper;this.lastPercentX=(o.offsetLeft+n/2)/s.clientWidth,this.lastPercentY=(o.offsetTop+a/2)/s.clientHeight},wheel:function(t){var e=(t.deltaX||t.deltaY)<0?1:-1,n=this.image,a=n.naturalHeight,i=n.naturalWidth,o=this.clientWidth,r=this.clientHeight,s=.03*o,c=o+e*s,l=a/i*c;if(!(c<=0)){var p=this.image.getBoundingClientRect(),d=(t.clientY-p.top)/r,u=(t.clientX-p.left)/o,f=(l-r)*d,h=s*e*u;this.doScale(f,h,c,l)}},oneToOne:function(){var t=this.image,e=t.naturalWidth,n=t.naturalHeight,a=this.clientWidth,i=this.clientHeight,o=.5*(n-i),r=.5*(e-a);this.doScale(o,r,e,n)},reStore:function(){var t,e=this.image,n=e.naturalWidth,a=e.naturalHeight,i=this.clientWidth,o=this.clientHeight,r=this.$refs.imgwrapper.getBoundingClientRect(),s=.9*r.width,c=.9*r.height,l=s/n*a;l>c?(t=c/a*n,l=c):t=s,t>n&&l>a&&(t=this.image.naturalWidth,l=this.image.naturalHeight);var p=.5*(l-o),d=.5*(t-i);this.doScale(p,d,t,l)},center:function(){var t=this.$refs.imgwrapper.getBoundingClientRect(),e=this.image,n=e.style;this.lastTop=t.height/2-e.clientHeight/2,this.lastLeft=t.width/2-e.clientWidth/2,n.top="".concat(this.lastTop,"px"),n.left="".concat(this.lastLeft,"px")},onload:function(){var t=this.image,e=t.style;e.top="0",e.left="0",e.width="",this.naturalWidth=t.naturalWidth,this.naturalHeight=t.naturalHeight,this.clientWidth=t.clientWidth,this.clientHeight=t.clientWidth/t.naturalWidth*t.naturalHeight;var n=this.$refs.imgwrapper.getBoundingClientRect();this.lastTop=n.height/2-t.clientHeight/2,this.lastLeft=n.width/2-t.clientWidth/2,this.lastPercentX=.5,this.lastPercentY=.5,this.reStore(),t.classList.remove("notscaled")},next:function(t){var e=this.imgs.indexOf(this.curImg)+t,n=this.imgs.length;e>=n?e=0:e<0&&(e=n-1),this.curImg=this.imgs[e],this.imgs.length>1&&!this.hidePreview&&this.$refs.previewlist.children[e].scrollIntoView()},close:function(){this.$emit("close")},selectImg:function(t,e){this.curImg=e,document.querySelector("#".concat(t)).scrollIntoView()},download:function(t){var e=document.createElement("a");e.href=t,e.download=t.split("/").pop(),e.click()},copyLink:function(t){var e=this;return(0,o.default)((0,i.default)().mark((function n(){return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,navigator.clipboard.writeText(t);case 2:e.$toast.center("链接已复制到剪切板");case 3:case"end":return n.stop()}}),n)})))()}}};e.default=r},"406f":function(t,e,n){var a=n("24fb"),i=n("1de5"),o=n("7135"),r=n("e875"),s=n("eaf6");e=a(!1);var c=i(o),l=i(r),p=i(s);e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.go-top[data-v-362981a9]{position:fixed;right:10px;bottom:10px;z-index:998px;box-shadow:0 0 4px 1px #f0f0f0}.go-top .image[data-v-362981a9]{width:60px;height:60px}.no-empty[data-v-362981a9]{width:100%;height:600px;text-align:center;line-height:600px}.deleteSession[data-v-362981a9]{padding:20px;display:flex;flex-direction:column;width:300px}.deleteSession .confirm-title[data-v-362981a9]{font-size:20px}.deleteSession .confirm-msg[data-v-362981a9]{margin:30px 0}.deleteSession .confirm-btn[data-v-362981a9]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none}.deleteSession .confirm-btn .confirm-cancel[data-v-362981a9]{background:#e7fcf9}.deleteSession .confirm-btn .confirm-ok[data-v-362981a9]{color:#fff;background:#fe4f2f}.deleteSession .confirm-btn > *[data-v-362981a9]{padding:10px 30px;cursor:pointer;border-radius:10px}.chat-page[data-v-362981a9]{min-height:100vh;display:flex;flex-direction:column;background-image:url('+c+");background-size:100% auto;background-position:0 top;background-repeat:no-repeat;position:relative}.chat-page .chat-config-wrapper[data-v-362981a9]{display:flex;align-items:center;padding:0 0 10px}.chat-page .chat-config-wrapper .model-wrapper[data-v-362981a9]{display:flex;align-items:center;border-radius:20px;position:relative;z-index:1;font-size:12px;color:#888;flex:1;margin-right:20px;justify-content:space-between}.chat-page .chat-config-wrapper .model-wrapper .model-select[data-v-362981a9]{margin-right:10px;cursor:pointer}.chat-page .chat-config-wrapper .model-wrapper .models[data-v-362981a9]{padding:10px;position:absolute;background:#fff;bottom:100%;box-shadow:0 0 8px rgba(0,0,0,.1);margin-bottom:4px;border-radius:5px;outline:none;padding:6px}.chat-page .chat-config-wrapper .model-wrapper .models .model-item[data-v-362981a9]{font-size:13px;display:flex;align-items:center;padding:5px 6px;border-radius:3px}.chat-page .chat-config-wrapper .model-wrapper .models .model-item[data-v-362981a9]:hover{background:#e7fcf9}.chat-page .chat-config-wrapper .model-wrapper .models .model-item .label[data-v-362981a9]{margin-right:20px;flex:1}.chat-page .chat-config-wrapper .model-wrapper .models .model-item[data-v-362981a9]:not(:last-child){margin-bottom:3px}.chat-page .chat-config-wrapper .model-wrapper .models .model-item .check[data-v-362981a9]{color:#42cbbb}.chat-page .chat-config-wrapper .model-wrapper .model-value[data-v-362981a9]{display:inline-flex;align-items:center;padding:5px 14px;border-radius:90px;box-shadow:0 0 8px rgba(0,0,0,.1)}.chat-page .chat-config-wrapper .model-wrapper .model-value .value[data-v-362981a9]{margin-right:5px}.chat-page .page-content[data-v-362981a9]{padding:20px;overflow-y:auto;flex:1}.chat-page .writer-title[data-v-362981a9]{color:#3d3d60;font-size:18px;text-align:center;margin-bottom:12px;margin-left:15px;font-weight:400}.chat-page .collect-btns[data-v-362981a9]{display:flex;align-items:center;background-color:#fff;width:100%;height:38px;border:none;border-radius:19px}.chat-page .collect-btns uni-button[data-v-362981a9]::after{display:none}.chat-page .collect-btns .clear[data-v-362981a9]{line-height:16px;font-size:16px;margin-left:0;width:108px;height:100%;border:none;border-radius:19px;background-color:#fff;color:#888;display:flex;justify-content:center;align-items:center}@-webkit-keyframes rotate-data-v-362981a9{0%{-webkit-transform:rotate(0) scale(1.2);transform:rotate(0) scale(1.2)}100%{-webkit-transform:rotate(1turn) scale(1.2);transform:rotate(1turn) scale(1.2)}}@keyframes rotate-data-v-362981a9{0%{-webkit-transform:rotate(0) scale(1.2);transform:rotate(0) scale(1.2)}100%{-webkit-transform:rotate(1turn) scale(1.2);transform:rotate(1turn) scale(1.2)}}.chat-page .collect-btns .active[data-v-362981a9]{background:linear-gradient(95.9deg,#9fffbe -.66%,#0cffec 101.97%)}.chat-page .content-wrapper[data-v-362981a9]{border-radius:20px;margin-top:20px;background:linear-gradient(95.9deg,rgba(159,255,190,.2) -.66%,rgba(12,255,236,.2) 101.97%)}.chat-page .content-wrapper .content-box[data-v-362981a9]{padding:15px;display:flex;align-items:start}.chat-page .content-wrapper .content-box .md-image[data-v-362981a9]{width:%?600?%}.chat-page .content-wrapper .content[data-v-362981a9]{display:flex;align-items:start;flex:1;word-break:break-all}.chat-page .content-wrapper .protrait[data-v-362981a9]{border-radius:50%;width:30px;height:30px;min-width:30px;min-height:30px;margin-right:10px;background-repeat:no-repeat;background-position:50%;background-size:cover;background-image:url("+l+")}.chat-page .content-wrapper .content-q[data-v-362981a9]{color:#6d8287}.chat-page .content-wrapper .content-a[data-v-362981a9]{font-size:14px;color:#6d8287;display:flex;flex-flow:column}.chat-page .content-wrapper .content-a .intro_toggle[data-v-362981a9]{width:60px;font-size:12px;margin-top:10px;padding:4px;background-color:#fff3ea;border-radius:20%;display:flex;justify-content:center;align-items:center}.chat-page .content-wrapper .content-a .intro_toggle .image[data-v-362981a9]{width:10px;height:10px;margin-left:4px}.chat-page .content-wrapper .a-wrapper[data-v-362981a9]{border-radius:20px;background:#fff;border:1px solid #9fffbe}.chat-page .content-wrapper .a-btns[data-v-362981a9]{display:flex;justify-content:space-between;padding:0 10px 10px}.chat-page .content-wrapper .a-btns > *[data-v-362981a9]{border-radius:30px;padding:6px 10px;font-size:12px;line-height:1.4em}.chat-page .content-wrapper .a-btns > *[data-v-362981a9]:before{margin-right:3px;position:relative;top:2px}.chat-page .content-wrapper .a-btns .gpticon-stared[data-v-362981a9]{background:#dbfcef;color:red}.chat-page .content-wrapper .a-btns .gpticon-stared[data-v-362981a9]::before{background-image:url("+p+");background-size:12px;background-position:50%;background-repeat:no-repeat}.chat-page .content-wrapper .a-btns .a-copy[data-v-362981a9]{margin-left:15px;color:#ccab93;background:#fff3ea}",""]),t.exports=e},4623:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uPopup:n("cfd9").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"chat-page"},[a("u-popup",{attrs:{mode:"center","border-radius":"10"},model:{value:t.showCollect,callback:function(e){t.showCollect=e},expression:"showCollect"}},[a("v-uni-view",{staticClass:"deleteSession"},[a("v-uni-view",{staticClass:"confirm-title"},[t._v("您确定要取消收藏?")]),a("v-uni-view",{staticClass:"confirm-msg"},[t._v("取消收藏后，可能再也找不到了哦。")]),a("v-uni-view",{staticClass:"confirm-btn"},[a("v-uni-view",{staticClass:"confirm-cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCollect=!1}}},[t._v("取消")]),a("v-uni-view",{staticClass:"confirm-ok",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.collectSession.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1),a("v-uni-view",{ref:"pageContent",staticClass:"page-content"},[a("v-uni-view",{staticClass:"collect-btns"},[a("v-uni-button",{staticClass:"clear",class:2==t.active?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changActive(2,"create_chat")}}},[a("span",[t._v("创作")])]),a("v-uni-button",{staticClass:"clear",class:4==t.active?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changActive(4,"role_chat")}}},[a("span",[t._v("角色")])]),a("v-uni-button",{staticClass:"clear",class:1==t.active?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changActive(1,"chat")}}},[a("span",[t._v("对话")])]),a("v-uni-button",{staticClass:"clear",class:3==t.active?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changActive(3,"paint_chat")}}},[a("span",[t._v("绘画")])])],1),t._l(t.chatList,(function(e,i){return t.chatList.length>0?a("v-uni-view",{key:i,staticClass:"content-info"},[a("v-uni-view",{staticClass:"content-wrapper"},[a("v-uni-view",{staticClass:"content-box content-q"},[a("v-uni-view",{staticClass:"content q-content"},[t._v(t._s(e.message||""))])],1),a("v-uni-view",{staticClass:"a-wrapper"},[a("v-uni-view",{staticClass:"content-box content-a"},[3==t.active?a("v-uni-view",{staticClass:"mdcontent"},[a("v-uni-image",{staticClass:"md-image",attrs:{src:e.un_response},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.viewCanvas(e.un_response)}}})],1):a("v-uni-view",{staticClass:"mdcontent"},[t._v(t._s(e.tempContent))]),3!==t.active&&null!==e.un_response&&e.un_response.length>99?a("v-uni-view",{staticClass:"intro_toggle"},[e.isShowAllContent?a("v-uni-text",{staticClass:"quanwen",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toggleDescription(e)}}},[t._v("展开"),a("v-uni-image",{staticClass:"image",attrs:{src:n("f1f1")}})],1):a("v-uni-text",{staticClass:"quanwen",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toggleDescription(e)}}},[a("v-uni-view",{staticClass:"flow-box"},[t._v("收起"),a("v-uni-image",{staticClass:"image",attrs:{src:n("749e")}})],1)],1)],1):t._e()],1),a("v-uni-view",{staticClass:"a-btns"},[a("span",[t._v(t._s(e.create_time))]),a("v-uni-view",{staticClass:"icon-star gpticon-stared",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onclickCollect(e)}}},[t._v("取消收藏")]),3!==t.active?a("v-uni-view",{staticClass:"a-copy gpticon-copy",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.copy(e.un_response)}}},[t._v("复制")]):a("v-uni-view",{staticClass:"a-copy gpticon-copy",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.viewCanvas(e.un_response)}}},[t._v("下载")])],1)],1)],1)],1):t._e()})),0==t.chatList.length?a("v-uni-view",{staticClass:"no-empty"},[a("span",[t._v("暂无收藏～")])]):t._e()],2),t.isToTop?a("v-uni-view",{staticClass:"go-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goTop()}}},[a("v-uni-image",{staticClass:"image",attrs:{src:n("a04a")}})],1):t._e(),t.imgs?a("viewer",{staticStyle:{"z-index":"1000",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"#00000070"},attrs:{imgs:t.imgs,curImage:t.currentView},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.imgs=null,t.currentView=null}}}):t._e()],1)},o=[]},"5de6":function(t,e,n){"use strict";n.r(e);var a=n("398a"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"635c":function(t,e,n){"use strict";var a=n("22b1"),i=n.n(a);i.a},"6a28":function(t,e,n){var a=n("406f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("01179a50",a,!0,{sourceMap:!1,shadowMode:!1})},"749e":function(t,e,n){t.exports=n.p+"static/img/Strok-1.2961fcf2.svg"},"77de":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mk-viewer-container",class:{moving:t.moving},attrs:{tabindex:"1"},on:{contextmenu:function(e){e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(arguments[0]=e=t.$handleEvent(e),void t.next(-1))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:(arguments[0]=e=t.$handleEvent(e),void t.next(1))}]}},[t.hideClose?t._e():n("v-uni-button",{staticClass:"viewer-close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("close")},pointerdown:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t._v("X")]),n("div",{ref:"imgwrapper",staticClass:"target-wrapper"},[n("img",{ref:"image",staticClass:"viewer-target notscaled",style:{transform:"rotate("+t.rotate+"deg)"},attrs:{src:t.curImg.src},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.onload.apply(void 0,arguments)}}}),n("div",{staticClass:"viewer-tip",class:{showtip:t.showtip}},[t._v(t._s(t.scale)+"%")])]),t.curImg.name&&!t.hideName?n("div",{staticClass:"viewer-img-name"},[t._v(t._s(t.curImg.name)+" ("+t._s(t.naturalWidth)+" × "+t._s(t.naturalHeight)+")")]):t._e(),n("div",{staticClass:"toolbar-wrapper"},[t.hideToolbar?t._e():n("div",{staticClass:"viewer-toolbar",on:{pointerdown:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t.imgs.length>1?n("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.next(-1)}}}):t._e(),n("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.rotate+=90}}},[t._v("旋转")]),n("v-uni-button",{attrs:{title:"下载图片"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.download(t.curImg.src)}}},[t._v("下载")]),n("v-uni-button",{attrs:{title:"复制"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyLink(t.curImg.src)}}},[t._v("复制")])],1),t.imgs.length>1&&!t.hidePreview?n("div",{ref:"previewlist",staticClass:"viewer-preview",on:{pointerdown:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},wheel:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},t._l(t.imgs,(function(e,a){return n("img",{key:a,class:{actived:e==t.curImg},attrs:{id:"fuckuni-img-"+a,src:e.src,alt:e.name},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.selectImg("fuckuni-img-"+a,e)}}})})),0):t._e()])],1)},i=[]},9842:function(t,e,n){"use strict";n.r(e);var a=n("2cf1"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},a04a:function(t,e,n){t.exports=n.p+"static/img/gotop.71223f29.svg"},b4e8:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.mk-viewer-wrapper[data-v-5b341e84]{position:fixed;z-index:1000;top:0;left:0;right:0;bottom:0}.mk-viewer-container[data-v-5b341e84]{-webkit-user-select:none;user-select:none;overflow:hidden;cursor:grab;display:flex;flex-direction:column;align-items:stretch;position:relative;width:100%;height:100%;background:#000;color:#fff}.mk-viewer-container uni-button[data-v-5b341e84]{color:#fff;display:inline-block}.mk-viewer-container uni-button[data-v-5b341e84]::after{display:none}.mk-viewer-container .viewer-tip[data-v-5b341e84]{top:50%;left:50%;color:#fff;padding:8px 30px;position:absolute;pointer-events:none;background:rgba(0,0,0,.3);border-radius:100px;-webkit-transform:translate(-50%,-50%) scale(0);transform:translate(-50%,-50%) scale(0);transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.mk-viewer-container .viewer-tip.showtip[data-v-5b341e84]{-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}.mk-viewer-container.moving[data-v-5b341e84]{cursor:grabbing!important}.mk-viewer-container.moving .viewer-target[data-v-5b341e84]{cursor:grabbing!important}.mk-viewer-container .target-wrapper[data-v-5b341e84]{flex:1;width:100%;overflow:visible;position:relative}.mk-viewer-container .viewer-target[data-v-5b341e84]{box-shadow:1px 1px 8px rgba(0,0,0,.2);position:absolute;display:block;touch-action:none;pointer-events:none;-webkit-transform:rotate(0);transform:rotate(0);transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;object-fit:contain;object-position:center}.mk-viewer-container .viewer-target.notscaled[data-v-5b341e84]{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:90%;max-height:90%}.mk-viewer-container .viewer-close[data-v-5b341e84]{padding:8px 8px 14px 14px;border-radius:0 0 0 90%;border:none;outline:none;position:absolute;top:0;right:0;z-index:100;box-shadow:1px 1px 8px rgba(0,0,0,.2);background:rgba(0,0,0,.2);font-size:14px;cursor:pointer;-webkit-user-select:none;user-select:none}.mk-viewer-container .toolbar-wrapper[data-v-5b341e84]{position:relative;z-index:10;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;flex-direction:row-reverse}.mk-viewer-container .viewer-img-name[data-v-5b341e84]{color:#fff;font-size:14px;text-align:center;padding:8px;pointer-events:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;z-index:10;text-shadow:0 0 3px #000}.mk-viewer-container .viewer-toolbar[data-v-5b341e84]{border-radius:5px;margin:0 10px 10px}.mk-viewer-container .viewer-toolbar uni-button[data-v-5b341e84]{padding:6px;font-size:15px;border:none;color:#fff;border-radius:3px;background:rgba(0,0,0,.2)}.mk-viewer-container .viewer-toolbar uni-button[data-v-5b341e84]:not(:last-child){margin-right:8px}.mk-viewer-container .viewer-preview[data-v-5b341e84]{height:70px;padding:8px;margin-bottom:10px;background:rgba(0,0,0,.1);border-radius:5px;box-sizing:border-box;max-width:calc(100% - 2 * $gap);display:flex;align-items:center;overflow-y:hidden;overflow-x:overlay;cursor:default}.mk-viewer-container .viewer-preview img[data-v-5b341e84]{height:100%;border-radius:3px;cursor:pointer;min-width:20px;max-width:500px;object-fit:contain;object-position:center;flex-shrink:0}.mk-viewer-container .viewer-preview img.actived[data-v-5b341e84]{outline:#2188ff 2px solid}.mk-viewer-container .viewer-preview img[data-v-5b341e84]:not(:last-child){margin-right:8px}',""]),t.exports=e},b9c1:function(t,e,n){"use strict";n.r(e);var a=n("4623"),i=n("9842");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("e7c4");var r=n("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"362981a9",null,!1,a["a"],void 0);e["default"]=s.exports},e7c4:function(t,e,n){"use strict";var a=n("6a28"),i=n.n(a);i.a},eaf6:function(t,e,n){t.exports=n.p+"static/img/Vector-2.25e852cf.svg"},f1f1:function(t,e,n){t.exports=n.p+"static/img/Stroke-2.16573fee.svg"},fcbc:function(t,e,n){"use strict";n.r(e);var a=n("77de"),i=n("5de6");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("635c");var r=n("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"5b341e84",null,!1,a["a"],void 0);e["default"]=s.exports}}]);