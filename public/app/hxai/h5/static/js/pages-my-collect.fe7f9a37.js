(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-collect"],{"199f":function(t,e,a){var n=a("d42b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("12e768e2",n,!0,{sourceMap:!1,shadowMode:!1})},"2cf1":function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("4de4"),a("d3b7"),a("159b"),a("99af"),a("ac1f"),a("5319"),a("5b81"),a("a434");var i=n(a("c7eb")),o=n(a("1da1")),r=n(a("ba67")),c=n(a("2361")),s=(n(a("a57b")),a("3cbe"),a("9133"),n(a("a9c7"))),l=n(a("fcbc")),d=n(a("0208")),p={name:"easyChat",components:{viewer:l.default,popup:r.default,chatItem:c.default},data:function(){return{active:2,page:1,chatList:[],model_id:null,form:{},message:"",placeholder:"",isLoading:!1,userInfo:{},models:[],currentModel:null,selectModel:!1,context:d.default,isChecking:!1,showCollect:!1,showCollectId:0,isToTop:!1,imgs:null,currentView:null}},onLoad:function(t){var e=this;return(0,o.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.model_id=t.id||"",e.placeholder=t.msg,a.next=4,e.$u.api.userInfo();case 4:e.userInfo=a.sent,e.userInfo=(null===(n=e.userInfo)||void 0===n?void 0:n.data)||{},e.getDataList();case 7:case"end":return a.stop()}}),a)})))()},computed:{answer:function(){var t=this.chatList.filter((function(t){return"我"!=t.role}));return t.length?t.pop():null},question:function(){var t=this.chatList.filter((function(t){return"我"==t.role}));return t.length?t.pop():null}},methods:{changActive:function(t,e){t>0&&(this.isToTop=!1,this.active=t,this.page=1,this.type=e,this.chatList=[],this.getDataList())},mdContenxt:function(t){return s.default.render(t)},goBack:function(){uni.navigateBack({delta:1})},getDataList:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.active){e.next=6;break}return e.next=3,t.$u.api.chatCollectList({page:t.page}).then((function(e){console.log(e,"res"),e.data.data.forEach((function(t){t.un_response.length>99?(t.isShowAllContent=!0,t.tempContent=t.un_response.substr(0,99)+"..."):(t.isShowAllContent=!1,t.tempContent=t.un_response)})),1==t.page?t.chatList=e.data.data:t.chatList=t.chatList.concat(e.data.data)})).catch((function(t){console.log(t)}));case 3:e.sent,e.next=22;break;case 6:if(2!=t.active){e.next=12;break}return e.next=9,t.$u.api.createCollectList({page:t.page}).then((function(e){console.log(e,"res"),e.data.data.forEach((function(t){t.un_response.length>99?(t.isShowAllContent=!0,t.tempContent=t.un_response.substr(0,99)+"..."):(t.isShowAllContent=!1,t.tempContent=t.un_response)})),1==t.page?t.chatList=e.data.data:t.chatList=t.chatList.concat(e.data.data)})).catch((function(t){console.log(t)}));case 9:e.sent,e.next=22;break;case 12:if(3!=t.active){e.next=18;break}return e.next=15,t.$u.api.paintCollectList({page:t.page}).then((function(e){console.log(e,"res"),e.data.data.forEach((function(t){t.un_response.length>99?(t.isShowAllContent=!0,t.tempContent=t.un_response.substr(0,99)+"..."):(t.isShowAllContent=!1,t.tempContent=t.un_response)})),1==t.page?t.chatList=e.data.data:t.chatList=t.chatList.concat(e.data.data)})).catch((function(t){console.log(t)}));case 15:e.sent,e.next=22;break;case 18:if(4!=t.active){e.next=22;break}return e.next=21,t.$u.api.assistCollectList({page:t.page}).then((function(e){console.log(e,"res"),e.data.data.forEach((function(t){t.un_response.length>99?(t.isShowAllContent=!0,t.tempContent=t.un_response.substr(0,99)+"..."):(t.isShowAllContent=!1,t.tempContent=t.un_response)})),1==t.page?t.chatList=e.data.data:t.chatList=t.chatList.concat(e.data.data)})).catch((function(t){console.log(t)}));case 21:e.sent;case 22:case"end":return e.stop()}}),e)})))()},toggleDescription:function(t){this.chatList.forEach((function(e){console.log([t.id,e.id]),e.id==t.id&&(t.isShowAllContent?(e.isShowAllContent=!1,e.tempContent=e.un_response):(e.isShowAllContent=!0,e.tempContent=e.un_response.substr(0,99)+"..."))}))},scrollToBottom:function(){console.log("触底"),this.$refs.pageContent&&this.$refs.pageContent.$el.scrollTo({top:1e6,behavior:"smooth"})},copy:function(t){var e=t.replaceAll("<br/>","\n");e=e.replaceAll("&nbsp;"," "),uni.setClipboardData({data:e,success:function(){}})},onclickCollect:function(t){console.log(t),1==t.status&&(this.showCollectId=t.id||0,this.showCollect=!0)},goTop:function(t){uni.pageScrollTo({scrollTop:0,duration:0===t||t?t:500})},collectSession:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(4!=t.active){e.next=6;break}return e.next=3,t.$u.api.assistCollect({collect_id:t.showCollectId||0}).then((function(e){t.$u.toast(e.msg),t.showCollect=!1;var a=t.chatList;a.forEach((function(e,n){e.id==t.showCollectId&&a.splice(n,1)})),t.chatList=a})).catch((function(t){console.log(t)}));case 3:e.sent,e.next=21;break;case 6:if(2!=t.active){e.next=12;break}return e.next=9,t.$u.api.createCollect({collect_id:t.showCollectId||0}).then((function(e){t.$u.toast(e.msg),t.showCollect=!1;var a=t.chatList;a.forEach((function(e,n){e.id==t.showCollectId&&a.splice(n,1)})),t.chatList=a})).catch((function(t){console.log(t)}));case 9:e.sent,e.next=21;break;case 12:if(3!=t.active){e.next=18;break}return e.next=15,t.$u.api.paintCollect({collect_id:t.showCollectId||0}).then((function(e){t.$u.toast(e.msg),t.showCollect=!1;var a=t.chatList;a.forEach((function(e,n){e.id==t.showCollectId&&a.splice(n,1)})),t.chatList=a})).catch((function(t){console.log(t)}));case 15:e.sent,e.next=21;break;case 18:return e.next=20,t.$u.api.chatCollect({collect_id:t.showCollectId||0}).then((function(e){t.$u.toast(e.msg),t.showCollect=!1;var a=t.chatList;a.forEach((function(e,n){e.id==t.showCollectId&&a.splice(n,1)})),t.chatList=a})).catch((function(t){console.log(t)}));case 20:e.sent;case 21:case"end":return e.stop()}}),e)})))()},viewCanvas:function(t){this.imgs=[{src:t}]}},onPageScroll:function(t){console.log("滑动"),this.isToTop=!0},onReachBottom:function(){uni.$emit("onReachBottom")},mounted:function(){var t=this;uni.$on("onReachBottom",(function(){t.page++,t.getDataList()}))}};e.default=p},"2fde":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mk-viewer-container",class:{moving:t.moving},attrs:{tabindex:"1"},on:{contextmenu:function(e){e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(arguments[0]=e=t.$handleEvent(e),void t.next(-1))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:(arguments[0]=e=t.$handleEvent(e),void t.next(1))}]}},[t.hideClose?t._e():a("v-uni-button",{staticClass:"viewer-close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("close")},pointerdown:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t._v("关闭")]),a("div",{ref:"imgwrapper",staticClass:"target-wrapper"},[a("img",{ref:"image",staticClass:"viewer-target notscaled",style:{transform:"rotate("+t.rotate+"deg)"},attrs:{src:t.curImg.src},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.onload.apply(void 0,arguments)}}}),a("div",{staticClass:"viewer-tip",class:{showtip:t.showtip}},[t._v(t._s(t.scale)+"%")])]),t.curImg.name&&!t.hideName?a("div",{staticClass:"viewer-img-name"},[t._v(t._s(t.curImg.name)+" ("+t._s(t.naturalWidth)+" × "+t._s(t.naturalHeight)+")")]):t._e(),a("div",{staticClass:"toolbar-wrapper"},[t.hideToolbar?t._e():a("div",{staticClass:"viewer-toolbar",on:{pointerdown:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t.imgs.length>1?a("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.next(-1)}}}):t._e(),a("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.rotate+=90}}},[t._v("旋转 90°")]),a("v-uni-button",{attrs:{title:"下载图片"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.download(t.curImg.src)}}},[t._v("保存图片")]),a("v-uni-button",{attrs:{title:"复制"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyLink(t.curImg.src)}}},[t._v("复制链接")])],1),t.imgs.length>1&&!t.hidePreview?a("div",{ref:"previewlist",staticClass:"viewer-preview",on:{pointerdown:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},wheel:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},t._l(t.imgs,(function(e,n){return a("img",{key:n,class:{actived:e==t.curImg},attrs:{id:"fuckuni-img-"+n,src:e.src,alt:e.name},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectImg("fuckuni-img-"+n,e)}}})})),0):t._e()])],1)},i=[]},"398a":function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("c7eb")),o=n(a("1da1"));a("c975");var r={name:"imgviewer",props:{imgs:{default:function(){return[]}},curImage:{type:Object},hideClose:{type:Boolean,default:!1},hidePreview:{type:Boolean,default:!1},hideToolbar:{type:Boolean,default:!1},hideName:{type:Boolean,default:!1},maskClose:{type:Boolean,default:!1}},data:function(){return{moving:!1,lastTop:0,lastLeft:0,clientWidth:0,clientHeight:0,scale:"0",rotate:0,showtip:!1,tipTimeout:null,lastPercentX:0,lastPercentY:0,isOneToOne:!1,naturalWidth:0,naturalHeight:0,curImg:null,resize:null,image:null}},beforeMount:function(){this.curImg=this.curImage||this.imgs[0]},mounted:function(){var t=this;this.image=this.$refs.image,this.$nextTick((function(){return t.focus()}));var e=window,a=this.image,n=a.style;this.resize=new e.ResizeObserver((function(e){if(t.$refs.imgwrapper){var a=t.$refs.imgwrapper.getBoundingClientRect();t.lastTop=a.height*t.lastPercentY-t.clientHeight/2,t.lastLeft=a.width*t.lastPercentX-t.clientWidth/2,n.top="".concat(t.lastTop,"px"),n.left="".concat(t.lastLeft,"px")}})),this.resize.observe(this.$refs.imgwrapper),this.$el.addEventListener("pointerdown",(function(e){t.pdown(e)})),this.$el.addEventListener("wheel",(function(e){t.wheel(e)}))},unmount:function(){clearTimeout(this.tipTimeout),this.resize.disconnect()},methods:{focus:function(){this.$el.focus()},pdown:function(t){var e=this;if(this.maskClose&&t.target!=this.$refs.image)this.close();else{this.moving=!0,this.focus();var a=t.clientX,n=t.clientY,i=this.image,o=i.style,r=this.lastTop||0,c=this.lastLeft||0,s=function(t){var s=t.clientX-a,l=t.clientY-n;e.lastTop=r+l,e.lastLeft=c+s,o.top="".concat(e.lastTop,"px"),o.left="".concat(e.lastLeft,"px");var d=e.$refs.imgwrapper;e.lastPercentX=(i.offsetLeft+e.clientWidth/2)/d.clientWidth,e.lastPercentY=(i.offsetTop+e.clientHeight/2)/d.clientHeight};t.currentTarget.setPointerCapture(t.pointerId);var l,d="ontouchstart"in document.documentElement;d?(l=function(t){return s(t.targetTouches[0])},addEventListener("touchmove",l)):addEventListener("pointermove",s),addEventListener(d?"touchend":"pointerup",(function(){removeEventListener("touchmove",l),removeEventListener("pointermove",s),e.moving=!1}),{once:!0})}},doScale:function(t,e,a,n){var i=this;this.lastTop=this.lastTop-t,this.lastLeft=this.lastLeft-e;var o=this.image,r=o.style;this.clientWidth=a,this.clientHeight=n,this.showtip=!0,clearTimeout(this.tipTimeout),this.tipTimeout=setTimeout((function(){i.showtip=!1}),1500),this.scale=(a/o.naturalWidth*100).toFixed(0),r.width="".concat(a,"px"),r.top="".concat(this.lastTop,"px"),r.left="".concat(this.lastLeft,"px"),this.isOneToOne=a==this.image.naturalWidth;var c=this.$refs.imgwrapper;this.lastPercentX=(o.offsetLeft+a/2)/c.clientWidth,this.lastPercentY=(o.offsetTop+n/2)/c.clientHeight},wheel:function(t){var e=(t.deltaX||t.deltaY)<0?1:-1,a=this.image,n=a.naturalHeight,i=a.naturalWidth,o=this.clientWidth,r=this.clientHeight,c=.03*o,s=o+e*c,l=n/i*s;if(!(s<=0)){var d=this.image.getBoundingClientRect(),p=(t.clientY-d.top)/r,u=(t.clientX-d.left)/o,f=(l-r)*p,h=c*e*u;this.doScale(f,h,s,l)}},oneToOne:function(){var t=this.image,e=t.naturalWidth,a=t.naturalHeight,n=this.clientWidth,i=this.clientHeight,o=.5*(a-i),r=.5*(e-n);this.doScale(o,r,e,a)},reStore:function(){var t,e=this.image,a=e.naturalWidth,n=e.naturalHeight,i=this.clientWidth,o=this.clientHeight,r=this.$refs.imgwrapper.getBoundingClientRect(),c=.9*r.width,s=.9*r.height,l=c/a*n;l>s?(t=s/n*a,l=s):t=c,t>a&&l>n&&(t=this.image.naturalWidth,l=this.image.naturalHeight);var d=.5*(l-o),p=.5*(t-i);this.doScale(d,p,t,l)},center:function(){var t=this.$refs.imgwrapper.getBoundingClientRect(),e=this.image,a=e.style;this.lastTop=t.height/2-e.clientHeight/2,this.lastLeft=t.width/2-e.clientWidth/2,a.top="".concat(this.lastTop,"px"),a.left="".concat(this.lastLeft,"px")},onload:function(){var t=this.image,e=t.style;e.top="0",e.left="0",e.width="",this.naturalWidth=t.naturalWidth,this.naturalHeight=t.naturalHeight,this.clientWidth=t.clientWidth,this.clientHeight=t.clientWidth/t.naturalWidth*t.naturalHeight;var a=this.$refs.imgwrapper.getBoundingClientRect();this.lastTop=a.height/2-t.clientHeight/2,this.lastLeft=a.width/2-t.clientWidth/2,this.lastPercentX=.5,this.lastPercentY=.5,this.reStore(),t.classList.remove("notscaled")},next:function(t){var e=this.imgs.indexOf(this.curImg)+t,a=this.imgs.length;e>=a?e=0:e<0&&(e=a-1),this.curImg=this.imgs[e],this.imgs.length>1&&!this.hidePreview&&this.$refs.previewlist.children[e].scrollIntoView()},close:function(){this.$emit("close")},selectImg:function(t,e){this.curImg=e,document.querySelector("#".concat(t)).scrollIntoView()},download:function(t){var e=document.createElement("a");e.href=t,e.download=t.split("/").pop(),e.click()},copyLink:function(t){var e=this;return(0,o.default)((0,i.default)().mark((function a(){return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,navigator.clipboard.writeText(t);case 2:e.$toast.center("链接已复制到剪切板");case 3:case"end":return a.stop()}}),a)})))()}}};e.default=r},"5de6":function(t,e,a){"use strict";a.r(e);var n=a("398a"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"749e":function(t,e,a){t.exports=a.p+"static/img/Strok-1.2961fcf2.svg"},"767aa":function(t,e,a){"use strict";var n=a("199f"),i=a.n(n);i.a},8048:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.mk-viewer-wrapper[data-v-e3a3db60]{position:fixed;z-index:1000;top:0;left:0;right:0;bottom:0}.mk-viewer-container[data-v-e3a3db60]{-webkit-user-select:none;user-select:none;overflow:hidden;cursor:grab;display:flex;flex-direction:column;align-items:stretch;position:relative;width:100%;height:100%;background:#000;color:#fff}.mk-viewer-container uni-button[data-v-e3a3db60]{color:#fff;display:inline-block}.mk-viewer-container uni-button[data-v-e3a3db60]::after{display:none}.mk-viewer-container .viewer-tip[data-v-e3a3db60]{top:50%;left:50%;color:#fff;padding:8px 30px;position:absolute;pointer-events:none;background:rgba(0,0,0,.3);border-radius:100px;-webkit-transform:translate(-50%,-50%) scale(0);transform:translate(-50%,-50%) scale(0);transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.mk-viewer-container .viewer-tip.showtip[data-v-e3a3db60]{-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}.mk-viewer-container.moving[data-v-e3a3db60]{cursor:grabbing!important}.mk-viewer-container.moving .viewer-target[data-v-e3a3db60]{cursor:grabbing!important}.mk-viewer-container .target-wrapper[data-v-e3a3db60]{flex:1;width:100%;overflow:visible;position:relative}.mk-viewer-container .viewer-target[data-v-e3a3db60]{box-shadow:1px 1px 8px rgba(0,0,0,.2);position:absolute;display:block;touch-action:none;pointer-events:none;-webkit-transform:rotate(0);transform:rotate(0);transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;object-fit:contain;object-position:center}.mk-viewer-container .viewer-target.notscaled[data-v-e3a3db60]{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:90%;max-height:90%}.mk-viewer-container .viewer-close[data-v-e3a3db60]{padding:8px 8px 14px 14px;border-radius:0 0 0 90%;border:none;outline:none;position:absolute;top:0;right:0;z-index:100;box-shadow:1px 1px 8px rgba(0,0,0,.2);background:rgba(0,0,0,.2);font-size:14px;cursor:pointer;-webkit-user-select:none;user-select:none}.mk-viewer-container .toolbar-wrapper[data-v-e3a3db60]{position:relative;z-index:10;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;flex-direction:row-reverse}.mk-viewer-container .viewer-img-name[data-v-e3a3db60]{color:#fff;font-size:14px;text-align:center;padding:8px;pointer-events:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;z-index:10;text-shadow:0 0 3px #000}.mk-viewer-container .viewer-toolbar[data-v-e3a3db60]{border-radius:5px;margin:0 10px 10px}.mk-viewer-container .viewer-toolbar uni-button[data-v-e3a3db60]{padding:6px;font-size:15px;border:none;color:#fff;border-radius:3px;background:rgba(0,0,0,.2)}.mk-viewer-container .viewer-toolbar uni-button[data-v-e3a3db60]:not(:last-child){margin-right:8px}.mk-viewer-container .viewer-preview[data-v-e3a3db60]{height:70px;padding:8px;margin-bottom:10px;background:rgba(0,0,0,.1);border-radius:5px;box-sizing:border-box;max-width:calc(100% - 2 * $gap);display:flex;align-items:center;overflow-y:hidden;overflow-x:overlay;cursor:default}.mk-viewer-container .viewer-preview img[data-v-e3a3db60]{height:100%;border-radius:3px;cursor:pointer;min-width:20px;max-width:500px;object-fit:contain;object-position:center;flex-shrink:0}.mk-viewer-container .viewer-preview img.actived[data-v-e3a3db60]{outline:#2188ff 2px solid}.mk-viewer-container .viewer-preview img[data-v-e3a3db60]:not(:last-child){margin-right:8px}',""]),t.exports=e},9842:function(t,e,a){"use strict";a.r(e);var n=a("2cf1"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},a04a:function(t,e,a){t.exports=a.p+"static/img/gotop.71223f29.svg"},a47f:function(t,e,a){var n=a("8048");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("6f33edc2",n,!0,{sourceMap:!1,shadowMode:!1})},b7e2:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={uPopup:a("cfd9").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"chat-page"},[n("u-popup",{attrs:{mode:"center","border-radius":"10"},model:{value:t.showCollect,callback:function(e){t.showCollect=e},expression:"showCollect"}},[n("v-uni-view",{staticClass:"deleteSession"},[n("v-uni-view",{staticClass:"confirm-title"},[t._v("您确定要取消收藏?")]),n("v-uni-view",{staticClass:"confirm-msg"},[t._v("取消收藏后，可能再也找不到了哦。")]),n("v-uni-view",{staticClass:"confirm-btn"},[n("v-uni-view",{staticClass:"confirm-cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCollect=!1}}},[t._v("取消")]),n("v-uni-view",{staticClass:"confirm-ok",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.collectSession.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1),n("v-uni-view",{ref:"pageContent",staticClass:"page-content"},[n("v-uni-view",{staticClass:"collect-btns"},[n("v-uni-button",{staticClass:"clear",class:2==t.active?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changActive(2,"create_chat")}}},[n("span",[t._v("创作")])]),n("v-uni-button",{staticClass:"clear",class:4==t.active?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changActive(4,"role_chat")}}},[n("span",[t._v("角色")])]),n("v-uni-button",{staticClass:"clear",class:1==t.active?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changActive(1,"chat")}}},[n("span",[t._v("对话")])]),n("v-uni-button",{staticClass:"clear",class:3==t.active?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changActive(3,"paint_chat")}}},[n("span",[t._v("绘画")])])],1),t._l(t.chatList,(function(e,i){return t.chatList.length>0?n("v-uni-view",{key:i,staticClass:"content-info"},[n("v-uni-view",{staticClass:"content-wrapper"},[n("v-uni-view",{staticClass:"content-box content-q"},[n("v-uni-view",{staticClass:"content q-content"},[t._v(t._s(e.message||""))])],1),n("v-uni-view",{staticClass:"a-wrapper"},[n("v-uni-view",{staticClass:"content-box content-a"},[3==t.active?n("v-uni-view",{staticClass:"mdcontent"},[n("v-uni-image",{staticClass:"md-image",attrs:{src:e.response},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.viewCanvas(e.response)}}})],1):n("v-uni-view",{staticClass:"mdcontent"},[t._v(t._s(e.tempContent))]),3!==t.active&&null!==e.un_response&&e.un_response.length>99?n("v-uni-view",{staticClass:"intro_toggle"},[e.isShowAllContent?n("v-uni-text",{staticClass:"quanwen",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toggleDescription(e)}}},[t._v("展开"),n("v-uni-image",{staticClass:"image",attrs:{src:a("f1f1")}})],1):n("v-uni-text",{staticClass:"quanwen",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toggleDescription(e)}}},[n("v-uni-view",{staticClass:"flow-box"},[t._v("收起"),n("v-uni-image",{staticClass:"image",attrs:{src:a("749e")}})],1)],1)],1):t._e()],1),n("v-uni-view",{staticClass:"a-btns"},[n("span",[t._v(t._s(e.create_time))]),n("v-uni-view",{staticClass:"icon-star gpticon-stared",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onclickCollect(e)}}},[t._v("取消收藏")]),3!==t.active?n("v-uni-view",{staticClass:"a-copy gpticon-copy",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.copy(e.un_response)}}},[t._v("复制文案")]):n("v-uni-view",{staticClass:"a-copy gpticon-copy",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.viewCanvas(e.response)}}},[t._v("放大查看")])],1)],1)],1)],1):t._e()})),0==t.chatList.length?n("v-uni-view",{staticClass:"no-empty"},[n("span",[t._v("暂无收藏～")])]):t._e()],2),t.isToTop?n("v-uni-view",{staticClass:"go-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goTop()}}},[n("v-uni-image",{staticClass:"image",attrs:{src:a("a04a")}})],1):t._e(),t.imgs?n("viewer",{staticStyle:{"z-index":"1000",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"#00000070"},attrs:{imgs:t.imgs,curImage:t.currentView},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.imgs=null,t.currentView=null}}}):t._e()],1)},o=[]},b9c1:function(t,e,a){"use strict";a.r(e);var n=a("b7e2"),i=a("9842");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("767aa");var r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"f9767c2a",null,!1,n["a"],void 0);e["default"]=c.exports},cba5:function(t,e,a){"use strict";var n=a("a47f"),i=a.n(n);i.a},d42b:function(t,e,a){var n=a("24fb"),i=a("1de5"),o=a("7135"),r=a("e875"),c=a("eaf6");e=n(!1);var s=i(o),l=i(r),d=i(c);e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.go-top[data-v-f9767c2a]{position:fixed;right:10px;bottom:10px;z-index:998px;box-shadow:0 0 4px 1px #f0f0f0}.go-top .image[data-v-f9767c2a]{width:60px;height:60px}.no-empty[data-v-f9767c2a]{width:100%;height:600px;text-align:center;line-height:600px}.deleteSession[data-v-f9767c2a]{padding:20px;display:flex;flex-direction:column;width:300px}.deleteSession .confirm-title[data-v-f9767c2a]{font-size:20px}.deleteSession .confirm-msg[data-v-f9767c2a]{margin:30px 0}.deleteSession .confirm-btn[data-v-f9767c2a]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none}.deleteSession .confirm-btn .confirm-cancel[data-v-f9767c2a]{background:#e7fcf9}.deleteSession .confirm-btn .confirm-ok[data-v-f9767c2a]{color:#fff;background:#fe4f2f}.deleteSession .confirm-btn > *[data-v-f9767c2a]{padding:10px 30px;cursor:pointer;border-radius:10px}.chat-page[data-v-f9767c2a]{min-height:100vh;display:flex;flex-direction:column;background-image:url('+s+");background-size:100% auto;background-position:0 top;background-repeat:no-repeat;position:relative}.chat-page .chat-config-wrapper[data-v-f9767c2a]{display:flex;align-items:center;padding:0 0 10px}.chat-page .chat-config-wrapper .model-wrapper[data-v-f9767c2a]{display:flex;align-items:center;border-radius:20px;position:relative;z-index:1;font-size:12px;color:#888;flex:1;margin-right:20px;justify-content:space-between}.chat-page .chat-config-wrapper .model-wrapper .model-select[data-v-f9767c2a]{margin-right:10px;cursor:pointer}.chat-page .chat-config-wrapper .model-wrapper .models[data-v-f9767c2a]{padding:10px;position:absolute;background:#fff;bottom:100%;box-shadow:0 0 8px rgba(0,0,0,.1);margin-bottom:4px;border-radius:5px;outline:none;padding:6px}.chat-page .chat-config-wrapper .model-wrapper .models .model-item[data-v-f9767c2a]{font-size:13px;display:flex;align-items:center;padding:5px 6px;border-radius:3px}.chat-page .chat-config-wrapper .model-wrapper .models .model-item[data-v-f9767c2a]:hover{background:#e7fcf9}.chat-page .chat-config-wrapper .model-wrapper .models .model-item .label[data-v-f9767c2a]{margin-right:20px;flex:1}.chat-page .chat-config-wrapper .model-wrapper .models .model-item[data-v-f9767c2a]:not(:last-child){margin-bottom:3px}.chat-page .chat-config-wrapper .model-wrapper .models .model-item .check[data-v-f9767c2a]{color:#42cbbb}.chat-page .chat-config-wrapper .model-wrapper .model-value[data-v-f9767c2a]{display:inline-flex;align-items:center;padding:5px 14px;border-radius:90px;box-shadow:0 0 8px rgba(0,0,0,.1)}.chat-page .chat-config-wrapper .model-wrapper .model-value .value[data-v-f9767c2a]{margin-right:5px}.chat-page .page-content[data-v-f9767c2a]{padding:20px;overflow-y:auto;flex:1;margin-bottom:100px}.chat-page .writer-title[data-v-f9767c2a]{color:#3d3d60;font-size:18px;text-align:center;margin-bottom:12px;margin-left:15px;font-weight:400}.chat-page .collect-btns[data-v-f9767c2a]{display:flex;align-items:center;background-color:#fff;width:100%;height:38px;border:none;border-radius:19px}.chat-page .collect-btns uni-button[data-v-f9767c2a]::after{display:none}.chat-page .collect-btns .clear[data-v-f9767c2a]{line-height:16px;font-size:16px;margin-left:0;width:108px;height:100%;border:none;border-radius:19px;background-color:#fff;color:#888;display:flex;justify-content:center;align-items:center}@-webkit-keyframes rotate-data-v-f9767c2a{0%{-webkit-transform:rotate(0) scale(1.2);transform:rotate(0) scale(1.2)}100%{-webkit-transform:rotate(1turn) scale(1.2);transform:rotate(1turn) scale(1.2)}}@keyframes rotate-data-v-f9767c2a{0%{-webkit-transform:rotate(0) scale(1.2);transform:rotate(0) scale(1.2)}100%{-webkit-transform:rotate(1turn) scale(1.2);transform:rotate(1turn) scale(1.2)}}.chat-page .collect-btns .active[data-v-f9767c2a]{background:linear-gradient(95.9deg,#9fffbe -.66%,#0cffec 101.97%);color:#444}.chat-page .content-wrapper[data-v-f9767c2a]{border-radius:20px;margin-top:20px;background:linear-gradient(95.9deg,rgba(159,255,190,.2) -.66%,rgba(12,255,236,.2) 101.97%)}.chat-page .content-wrapper .content-box[data-v-f9767c2a]{padding:15px;display:flex;align-items:start}.chat-page .content-wrapper .content-box .md-image[data-v-f9767c2a]{border-radius:10px}.chat-page .content-wrapper .content[data-v-f9767c2a]{display:flex;align-items:start;flex:1;word-break:break-all}.chat-page .content-wrapper .protrait[data-v-f9767c2a]{border-radius:50%;width:30px;height:30px;min-width:30px;min-height:30px;margin-right:10px;background-repeat:no-repeat;background-position:50%;background-size:cover;background-image:url("+l+")}.chat-page .content-wrapper .content-q[data-v-f9767c2a]{color:#6d8287}.chat-page .content-wrapper .content-a[data-v-f9767c2a]{font-size:14px;color:#6d8287;display:flex;flex-flow:column}.chat-page .content-wrapper .content-a .intro_toggle[data-v-f9767c2a]{width:60px;font-size:12px;margin-top:10px;padding:4px;background-color:#fff3ea;border-radius:20%;display:flex;justify-content:center;align-items:center}.chat-page .content-wrapper .content-a .intro_toggle .image[data-v-f9767c2a]{width:10px;height:10px;margin-left:4px}.chat-page .content-wrapper .a-wrapper[data-v-f9767c2a]{border-radius:20px;background:#fff;border:1px solid #9fffbe}.chat-page .content-wrapper .a-btns[data-v-f9767c2a]{display:flex;justify-content:space-between;padding:0 10px 10px;color:#999}.chat-page .content-wrapper .a-btns > *[data-v-f9767c2a]{border-radius:30px;padding:6px 10px;font-size:12px;line-height:1.4em}.chat-page .content-wrapper .a-btns > *[data-v-f9767c2a]:before{margin-right:3px;position:relative;top:2px}.chat-page .content-wrapper .a-btns .gpticon-stared[data-v-f9767c2a]{background:#ffe8e8;color:red}.chat-page .content-wrapper .a-btns .gpticon-stared[data-v-f9767c2a]::before{background-image:url("+d+");background-size:12px;background-position:50%;background-repeat:no-repeat}.chat-page .content-wrapper .a-btns .a-copy[data-v-f9767c2a]{margin-left:15px;color:#ccab93;background:#fff3ea}",""]),t.exports=e},eaf6:function(t,e,a){t.exports=a.p+"static/img/Vector-2.25e852cf.svg"},f1f1:function(t,e,a){t.exports=a.p+"static/img/Stroke-2.16573fee.svg"},fcbc:function(t,e,a){"use strict";a.r(e);var n=a("2fde"),i=a("5de6");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("cba5");var r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"e3a3db60",null,!1,n["a"],void 0);e["default"]=c.exports}}]);