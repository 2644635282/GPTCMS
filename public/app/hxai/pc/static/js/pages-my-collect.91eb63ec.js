(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-collect"],{3305:function(t,a,e){var n=e("24fb"),i=e("1de5"),o=e("362d"),c=e("fc93"),s=e("edcd"),r=e("5a96");a=n(!1);var l=i(o),p=i(c),d=i(s),u=i(r);a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.deleteSession[data-v-43951a10]{padding:20px;display:flex;flex-direction:column;width:300px}.deleteSession .confirm-title[data-v-43951a10]{font-size:20px}.deleteSession .confirm-msg[data-v-43951a10]{margin:30px 0}.deleteSession .confirm-btn[data-v-43951a10]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none}.deleteSession .confirm-btn .confirm-cancel[data-v-43951a10]{background:#e7fcf9}.deleteSession .confirm-btn .confirm-ok[data-v-43951a10]{color:#fff;background:#fe4f2f}.deleteSession .confirm-btn > *[data-v-43951a10]{padding:10px 30px;cursor:pointer;border-radius:10px}*[data-v-43951a10]{outline:none}.paint-canvas[data-v-43951a10]{overflow:hidden;position:relative;padding:20px;display:flex;flex-direction:column;justify-content:center;align-items:center}.paint-canvas .canvas-holder[data-v-43951a10]{display:flex;flex-direction:column;background:var(--main-bg);background-size:contain;background-position:50%;background-repeat:no-repeat;border-radius:var(--large-radius);-webkit-user-select:none;user-select:none;width:400px;height:400px;cursor:pointer}.paint-canvas .canvas-holder[data-v-43951a10]:not(.hasImg){padding:65px 100px;cursor:default}.paint-canvas .canvas-holder .startup-icon[data-v-43951a10]{width:160px;height:160px;background-image:url('+l+');background-position:50%;background-repeat:no-repeat;background-size:contain}.paint-canvas .canvas-holder .startup-desc[data-v-43951a10]{margin-top:30px;color:var(--color-secondary);font-size:13px;text-align:center}.paint-workplace[data-v-43951a10]{display:flex;align-items:stretch;height:100%;overflow:hidden;-webkit-user-select:none;user-select:none}.paint-workplace .paint-styles[data-v-43951a10]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;-webkit-column-gap:8px;column-gap:8px;row-gap:8px}.paint-workplace .paint-styles .style-item-wrapper[data-v-43951a10]{padding:3px;border-radius:6px;border:2px solid transparent}.paint-workplace .paint-styles .style-item-wrapper.active[data-v-43951a10]{border:2px solid var(--theme-border-color)}.paint-workplace .paint-styles .style-item[data-v-43951a10]{text-align:center;position:relative;border-radius:4px;overflow:hidden;-webkit-user-select:none;user-select:none;cursor:pointer}.paint-workplace .paint-styles .style-item .style-icon[data-v-43951a10]{padding:50%;background:red;background-size:contain;background-position:50%}.paint-workplace .paint-styles .style-item .style-desc[data-v-43951a10]{position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,0,.2);font-size:12px;line-height:1.8em;color:#fff}.paint-workplace .panes[data-v-43951a10]{flex:1;position:relative;overflow:hidden;padding-top:10px}.paint-workplace .panes .pane-group[data-v-43951a10]{display:flex;align-items:center;border-radius:15px;background:#f2f7f8;overflow:hidden;cursor:pointer;font-size:14px}.paint-workplace .panes .pane-group .itempane[data-v-43951a10]{flex:1;text-align:center;height:30px;line-height:30px}.paint-workplace .panes .pane-group .active[data-v-43951a10]{background:#e7fcf9;border-radius:15px;color:#0bddc3}.paint-workplace .panes .chat-item[data-v-43951a10]{margin-bottom:20px;border-radius:10px;background:#f2f7f8;padding:12px 17px;cursor:pointer}.paint-workplace .panes .chat-item .response[data-v-43951a10]{margin:12px 0 3px 0;color:#666;font-size:14px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.paint-workplace .panes .chat-item .time[data-v-43951a10]{color:#999;font-size:10px}.paint-workplace .panes .chat-item-active[data-v-43951a10]{background:#e7fcf9;color:#0bddc3}.paint-workplace .panes .chat-item-active .response[data-v-43951a10]{color:#0bddc3}.paint-workplace .panes .chat-item-active .time[data-v-43951a10]{color:#0bddc3}.paint-workplace *[data-v-43951a10]{box-sizing:border-box}.paint-workplace .tool-pane[data-v-43951a10]{width:320px;background:var(--main-bg);border-left:var(--main-border);display:flex;flex-direction:column;overflow:hidden;padding:0 20px}.paint-workplace .tool-pane .tabs[data-v-43951a10]{display:flex;-webkit-user-select:none;user-select:none;cursor:pointer}.paint-workplace .tool-pane .tabs .tab[data-v-43951a10]{flex:1;text-align:center;padding:10px 0 15px;font-size:13px;font-weight:800;position:0;position:relative}.paint-workplace .tool-pane .tabs .tab[data-v-43951a10]::before{display:inline-block;margin-right:6px;position:relative;top:2px}.paint-workplace .tool-pane .tabs .tab.active[data-v-43951a10]:before{color:var(--theme-bg)}.paint-workplace .tool-pane .tabs .tab.active[data-v-43951a10]::after{content:"";display:block;position:absolute;bottom:0;width:8em;left:0;right:0;margin:auto;background:var(--theme-bg);height:3px}.paint-workplace .tool-pane .tabs .tab[data-v-43951a10]:not(.active){color:var(--secondary-color)}.paint-workplace .paint-canvas[data-v-43951a10]{flex:1}\r\n/* 内容面板 */.content-pane[data-v-43951a10]{margin:16px;padding:16px;background:#fff;border-radius:20px;overflow:hidden;display:flex;flex-direction:column;flex:1}.content-pane .pane-content[data-v-43951a10]{overflow-y:overlay;flex:1}.content-wrapper[data-v-43951a10]{border-radius:20px;background:linear-gradient(95.9deg,rgba(159,255,190,.2) -.66%,rgba(12,255,236,.2) 101.97%)}.content-wrapper .content-box[data-v-43951a10]{padding:15px;display:flex;align-items:start}.content-wrapper .content[data-v-43951a10]{display:flex;align-items:start;flex:1;word-break:break-all;-webkit-user-select:text;user-select:text}.content-wrapper .protrait[data-v-43951a10]{margin-right:10px;border-radius:50%;width:30px;height:30px;min-width:30px;min-height:30px;background-repeat:no-repeat;background-position:50%;background-size:cover;background-image:url('+p+")}.content-wrapper .content-q[data-v-43951a10]{color:#6d8287}.content-wrapper .content-a[data-v-43951a10]{font-size:16px;color:#6d8287}.content-wrapper .a-wrapper[data-v-43951a10]{border-radius:20px;background:#fff;border:1px solid #9fffbe}.content-wrapper .a-wrapper .a-btns[data-v-43951a10]{display:flex;justify-content:end;padding:0 20px 20px}.content-wrapper .a-wrapper .a-btns > *[data-v-43951a10]{border-radius:30px;padding:6px 10px;font-size:12px;line-height:1.4em}.content-wrapper .a-wrapper .a-btns > *[data-v-43951a10]:before{margin-right:3px;position:relative;top:2px}.content-wrapper .a-wrapper .a-btns .a-rewrite[data-v-43951a10]{background:#dbfcef;color:#78bf8f;margin-left:15px;margin-left:15px}.content-wrapper .a-wrapper .a-btns .a-copy[data-v-43951a10]{margin-left:15px;color:#ccab93;background:#fff3ea}.content-wrapper .a-wrapper .a-btns .gpticon-star[data-v-43951a10]::before{background-color:#fff;background-position:50%;background-repeat:no-repeat;background-image:url("+d+");background-size:12px}.content-wrapper .a-wrapper .a-btns .gpticon-star[data-v-43951a10]{background-color:#f7f7f7;font-size:12px}.content-wrapper .a-wrapper .a-btns .gpticon-stared[data-v-43951a10]{font-size:12px;color:#fe4f2f}.content-wrapper .a-wrapper .a-btns .gpticon-stared[data-v-43951a10]::before{background-image:url("+u+");background-size:12px;background-color:#fff;background-position:50%;background-repeat:no-repeat}.content-paint[data-v-43951a10]{height:100%;padding:15px;display:flex;flex-direction:column;align-items:center;justify-content:center}.content-paint .content-img[data-v-43951a10]{width:600px;height:600px;object-fit:contain;border-radius:20px}.content-paint .content-img[data-v-43951a10]:hover{cursor:pointer}.content-paint .btns[data-v-43951a10]{margin-top:40px;display:flex}.content-paint .btns .btns-item[data-v-43951a10]{display:flex;flex-direction:column;align-items:center;cursor:pointer;font-size:14px;margin:0 30px;color:#666}.content-paint .btns .btns-item .btns-item-icon[data-v-43951a10]{margin-bottom:10px}.content-paint .btns .btns-item .gpticon-cancel[data-v-43951a10]{background-color:#f7f7f7;width:12px;height:12px;color:#fe4f2f}.content-paint .btns .btns-item .gpticon-cancel[data-v-43951a10]::before{width:12px;height:12px;background-image:url("+u+");background-size:12px;background-color:#fff;background-position:50%;background-repeat:no-repeat}.waterfall[data-v-43951a10]{-webkit-column-count:2;column-count:2;-webkit-column-gap:10px;column-gap:10px;counter-reset:count;overflow-y:auto;width:100%;margin:0 auto}.waterfall .waterfall-item[data-v-43951a10]{position:relative;margin-bottom:10px;border-radius:4px;overflow:hidden}.waterfall .waterfall-item img[data-v-43951a10]{width:100%;height:auto;display:block;cursor:pointer}.waterfall .waterfall-item.waterfall-item-active[data-v-43951a10]{border:2px solid #0bddc3}",""]),t.exports=a},4029:function(t,a,e){var n=e("3305");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("f03a84ee",n,!0,{sourceMap:!1,shadowMode:!1})},"601f":function(t,a,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("d3b7"),e("99af"),e("ac1f"),e("5319"),e("5b81"),e("c740"),e("a434");var i=n(e("c7eb")),o=n(e("1da1")),c=n(e("c341")),s=n(e("45ad")),r=n(e("46f1")),l=n(e("b7aaa")),p=n(e("f320")),d={components:{viewer:r.default,history:s.default,loading:l.default},data:function(){return{tab:1,dataList:[],page:1,lastPage:-1,tabActive:1,collect_id:"",type:"",chatItem:null,currentView:null,loading:!1,showCollect:!1,showCollectId:0,context:c.default}},onLoad:function(t){var a=this;return(0,o.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.refreshDataList(),document.title=c.default.appConfig.title;case 2:case"end":return t.stop()}}),t)})))()},computed:{},methods:{loadDataList:function(){var t=this;return(0,o.default)((0,i.default)().mark((function a(){var e,n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,e=["assistCollectList","createCollectList","paintCollectList"],"chat"===t.type&&(e=["assistCollectList","chatCollectList"]),n="chat"===t.type?e[t.tabActive-1]:e[t.tab-1],a.next=6,t.$u.api[n]({page:t.page,limit:15}).then((function(a){t.dataList=t.dataList.concat(a.data.data),t.lastPage=a.data.last_page})).finally((function(){t.loading=!1}));case 6:case"end":return a.stop()}}),a)})))()},refreshDataList:function(){this.page=1,this.chatItem=null,this.dataList=[],this.loadDataList()},more:function(){this.page<this.lastPage&&(this.page++,this.loadDataList())},changeTab:function(t){this.tab!=t&&(this.tab=t,this.type="",this.tabActive=1,this.refreshDataList())},changeTabActive:function(t){this.tabActive!=t&&(this.type="chat",this.tabActive=t,this.refreshDataList())},mdContenxt:function(t){return p.default.render(t)},copy:function(t){var a=this,e=t.replaceAll("<br/>","\n");e=e.replaceAll("&nbsp;"," "),uni.setClipboardData({data:e,success:function(){a.$toast.center("复制成功")}})},onclickCollect:function(t){1==t.status&&(this.showCollectId=t.id||0,this.showCollect=!0)},collectSession:function(){var t=this;return(0,o.default)((0,i.default)().mark((function a(){var e,n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=["assistCollect","createCollect","paintCollect"],"chat"===t.type&&(e=["assistCollect","chatCollect"]),n="chat"===t.type?e[t.tabActive-1]:e[t.tab-1],a.next=5,t.$u.api[n]({collect_id:t.showCollectId||0}).then((function(a){t.$u.toast(a.msg),t.showCollect=!1;var e=t.dataList.findIndex((function(a){return a.id==t.showCollectId}));t.dataList.splice(e,1),t.chatItem=null})).catch((function(t){console.log(t)}));case 5:case"end":return a.stop()}}),a)})))()},download:function(t){var a=document.createElement("a");a.href=t,a.target="_blank",a.download=t.split("/").pop(),a.click()},copyLink:function(t){var a=this;return(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(t);case 2:a.$toast.center("链接已复制到剪切板");case 3:case"end":return e.stop()}}),e)})))()},viewImage:function(t){this.currentView={id:t.id,status:t.status,src:t.response}},refresh:function(){var t=this;this.currentView=null;var a=this.dataList.findIndex((function(a){return a.id==t.showCollectId}));this.dataList.splice(a,1),this.chatItem=null}}};a.default=d},"64cf":function(t,a,e){"use strict";var n=e("4029"),i=e.n(n);i.a},"8b0d":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return n}));var n={uLoadmore:e("b699").default,uEmpty:e("2b37").default,uIcon:e("869e").default,uPopup:e("f10e").default},i=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"paint-workplace"},[n("div",{staticClass:"tool-pane"},[n("div",{staticClass:"tabs"},[n("div",{staticClass:"tab",class:{active:1==t.tab},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeTab(1)}}},[t._v("对话")]),n("div",{staticClass:"tab",class:{active:2==t.tab},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeTab(2)}}},[t._v("创作")]),n("div",{staticClass:"tab",class:{active:3==t.tab},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeTab(3)}}},[t._v("绘画")])]),n("div",{staticClass:"panes"},[3==t.tab?n("div",{staticClass:"pane",staticStyle:{display:"flex","flex-direction":"column",height:"100%",overflow:"hidden"}},[n("v-uni-scroll-view",{staticStyle:{flex:"1","overflow-y":"overlay"},attrs:{"scroll-y":"true"},on:{scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.more.apply(void 0,arguments)}}},[n("div",{staticClass:"waterfall"},t._l(t.dataList,(function(a,e){return n("div",{key:e,staticClass:"waterfall-item",class:{"waterfall-item-active":t.chatItem&&t.chatItem.id==a.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chatItem=a}}},[a.response?n("img",{attrs:{src:a.response.includes("80w.top")||a.response.includes("bcebos.com")||a.response.includes("4387.top")||a.response.includes("replicate.delivery")?a.response:""+a.response+t.context.thumbnail}}):t._e()])})),0),t.dataList.length>6?n("u-loadmore",{staticStyle:{padding:"10px 0"},attrs:{status:t.loading?"loading":"nomore"}}):t._e()],1),0===t.dataList.length&&t.lastPage>-1?n("u-empty",{attrs:{text:"数据为空",mode:"favor"}}):t._e()],1):n("div",{staticClass:"pane",staticStyle:{display:"flex","flex-direction":"column",height:"100%",overflow:"hidden"}},[1==t.tab?n("div",{staticClass:"pane-group",staticStyle:{position:"sticky",top:"0","z-index":"10","margin-bottom":"20px"}},[n("div",{staticClass:"itempane",class:{active:1==t.tabActive},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeTabActive(1)}}},[t._v("角色对话")]),n("div",{staticClass:"itempane",class:{active:2==t.tabActive},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeTabActive(2)}}},[t._v("默认对话")])]):t._e(),n("v-uni-scroll-view",{staticClass:"scroll-Y",staticStyle:{flex:"1","overflow-y":"overlay"},attrs:{"scroll-y":"true"},on:{scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.more.apply(void 0,arguments)}}},[t._l(t.dataList,(function(a){return n("div",{key:a.id,staticClass:"chat-item",class:{"chat-item-active":t.chatItem&&t.chatItem.id==a.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chatItem=a}}},[n("div",[t._v(t._s(a.message))]),n("div",{staticClass:"response"},[t._v(t._s(a.un_response))]),n("div",{staticClass:"time"},[t._v(t._s(a.create_time))])])})),t.dataList.length>6?n("u-loadmore",{attrs:{status:t.loading?"loading":"nomore"}}):t._e(),0===t.dataList.length&&t.lastPage>-1?n("u-empty",{attrs:{text:"数据为空",mode:"favor"}}):t._e()],2)],1)])]),n("v-uni-view",{staticClass:"content-pane"},[n("v-uni-view",{staticClass:"pane-content"},[t.chatItem&&3!=t.tab?n("v-uni-view",{staticClass:"content-wrapper"},[n("v-uni-view",{staticClass:"content-box content-q"},[n("v-uni-view",{staticClass:"content q-content"},[t._v(t._s(t.chatItem.message))])],1),n("v-uni-view",{staticClass:"a-wrapper"},[n("v-uni-view",{staticClass:"content-box content-a"},[n("v-uni-view",{staticClass:"mdcontent",domProps:{innerHTML:t._s(t.mdContenxt(t.chatItem.un_response))}})],1),n("v-uni-view",{staticClass:"a-btns"},[n("v-uni-view",{staticClass:"icon-star gpticon-stared",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onclickCollect(t.chatItem)}}},[t._v("取消收藏")]),n("v-uni-view",{staticClass:"a-copy gpticon-copy",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.copy(t.chatItem.response)}}},[t._v("复制文案")])],1)],1)],1):t._e(),t.chatItem&&3==t.tab?n("v-uni-view",{staticClass:"content-paint"},[n("img",{staticClass:"content-img",attrs:{src:t.chatItem.response,alt:""},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.viewImage(t.chatItem)}}}),n("v-uni-view",{staticClass:"btns"},[n("v-uni-view",{staticClass:"btns-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.download(t.chatItem.response)}}},[n("span",{staticClass:"btns-item-icon gpticon-download"}),n("span",[t._v("下载")])]),n("v-uni-view",{staticClass:"btns-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.copyLink(t.chatItem.response)}}},[n("span",{staticClass:"btns-item-icon gpticon-copylink"}),n("span",[t._v("链接")])]),n("v-uni-view",{staticClass:"btns-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.viewImage(t.chatItem)}}},[n("u-icon",{staticClass:"btns-item-icon",attrs:{name:"search",color:"#666",size:"30"}}),n("span",[t._v("放大")])],1),n("v-uni-view",{staticClass:"btns-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onclickCollect(t.chatItem)}}},[n("img",{staticStyle:{width:"15px",height:"16px","margin-bottom":"10px"},attrs:{src:e("5a96"),alt:""}}),n("span",[t._v("取消收藏")])])],1)],1):t._e(),t.chatItem?t._e():n("u-empty",{attrs:{text:"暂无数据",mode:"favor"}})],1)],1),t.currentView?n("viewer",{staticClass:"paint-one",staticStyle:{"z-index":"1000",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"#00000070"},attrs:{hidePreview:!0,curImage:t.currentView},on:{refresh:function(a){arguments[0]=a=t.$handleEvent(a),t.refresh.apply(void 0,arguments)},close:function(a){arguments[0]=a=t.$handleEvent(a),t.currentView=null}}}):t._e(),n("u-popup",{attrs:{mode:"center","border-radius":"10"},model:{value:t.showCollect,callback:function(a){t.showCollect=a},expression:"showCollect"}},[n("v-uni-view",{staticClass:"deleteSession"},[n("v-uni-view",{staticClass:"confirm-title"},[t._v("您确定要取消收藏吗?")]),n("v-uni-view",{staticClass:"confirm-msg"},[t._v("取消收藏后，可能再也找不到了哦。")]),n("v-uni-view",{staticClass:"confirm-btn"},[n("v-uni-view",{staticClass:"confirm-cancel",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.showCollect=!1}}},[t._v("取消")]),n("v-uni-view",{staticClass:"confirm-ok",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.collectSession.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1)},o=[]},b317:function(t,a,e){"use strict";e.r(a);var n=e("601f"),i=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);a["default"]=i.a},d6a0:function(t,a,e){"use strict";e.r(a);var n=e("8b0d"),i=e("b317");for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);e("64cf");var c=e("f0c5"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"43951a10",null,!1,n["a"],void 0);a["default"]=s.exports}}]);