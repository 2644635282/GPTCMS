(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-plugin-paint-pic-pic"],{1278:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,s=n(i("c7eb")),r=n(i("1da1")),o=i("70dd"),u=n(i("a414")),c=n(i("31da")),d=n(i("172e")),l={props:{},components:{ZWait:u.default,wybSlideListener:d.default},data:function(){return{cost:0,unit:"",statusbarHeight:0,screenWidth:0,msgId:"",form:{image:"",title:""},flowList:[],index:0}},onLoad:function(t){var e=this;return(0,r.default)((0,s.default)().mark((function i(){return(0,s.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:console.log(t),a=e,a.index=t.index,a.flowList=uni.getStorageSync("pics"),a.flowList?(a.flowList=JSON.parse(a.flowList),a.form=a.flowList[a.index],console.log(a.form,"qqqqq")):a.flowList=[],a.unit=uni.getStorageSync("unit"),a.screenWidth=uni.getStorageSync("screenWidth"),a.statusbarHeight=uni.getStorageSync("statusBarHeight"),a.getCost();case 9:case"end":return i.stop()}}),i)})))()},methods:{onSlideUp:function(){console.log("up")},onSlideDown:function(){console.log("down")},onSlideLeft:function(){console.log("left"),a.index!=a.flowList.length-1&&(a.index++,a.form=a.flowList[a.index])},onSlideRight:function(){console.log("right"),0!=a.index&&(a.index--,a.form=a.flowList[a.index])},getCost:function(){var t=this;return(0,r.default)((0,s.default)().mark((function e(){var i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$u.api.hpaintCost();case 2:i=e.sent,i&&(t.cost=i.data);case 4:case"end":return e.stop()}}),e)})))()},save:function(){(0,o.isMobile)()?c.default.saveImg(a.form.image):c.default.download(a.form.image)},send:function(){var t=this;return(0,r.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:clearInterval(t.timer),t.timer=null,(0,o.debounce)((function(){a.send1()}));case 3:case"end":return e.stop()}}),e)})))()},getResult:function(){return(0,r.default)((0,s.default)().mark((function t(){var e;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.$u.api.hpaintResult({msgid:a.msgId});case 2:e=t.sent,e&&"图片生成中.."!=e.msg&&(clearInterval(a.timer),a.timer=null,a.$refs["zwait"].show(!1),uni.navigateTo({url:"/pages/plugin/paint/index/index?index=3"}));case 4:case"end":return t.stop()}}),t)})))()},send1:function(){var t=this;return(0,r.default)((0,s.default)().mark((function e(){var i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$u.api.hpaintSame({id:t.form.id});case 2:i=e.sent,i&&(a.msgId=i.data.msgid,t.timer=setInterval((function(){a.getResult()}),4e3),a.$refs["zwait"].show(!0));case 4:case"end":return e.stop()}}),e)})))()},goBack:function(){uni.navigateBack({delta:1})}}};e.default=l},"172e":function(t,e,i){"use strict";i.r(e);var n=i("7d1c"),a=i("b892");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var r=i("f0c5"),o=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=o.exports},"2f02":function(t,e,i){"use strict";var n=i("edba"),a=i.n(n);a.a},"37bf":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading18",data:function(){return{}}}},"3a69":function(t,e,i){"use strict";i.r(e);var n=i("37bf"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"3c6d":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \n */.ppic[data-v-4ae1735e]{min-height:100vh;position:relative}.ppic .icon[data-v-4ae1735e]{position:absolute;left:14px}.ppic .bottom[data-v-4ae1735e]{bottom:40px;position:fixed;padding:0 30px;width:100%;display:flex;justify-content:space-between;align-items:center}.ppic .bottom .btn[data-v-4ae1735e]{background-image:linear-gradient(0deg,#7cd887,#75ccd1);border-radius:30px;color:#fff;font-size:%?28?%;font-weight:500;text-align:center;width:calc(100% - 28px);height:40px;display:flex;justify-content:center;align-items:center;white-space:nowrap}',""]),t.exports=e},"57b8":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={wybSlideListener:i("172e").default,uniIcons:i("6075").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("wyb-slide-listener",{on:{slideUp:function(e){arguments[0]=e=t.$handleEvent(e),t.onSlideUp.apply(void 0,arguments)},slideDown:function(e){arguments[0]=e=t.$handleEvent(e),t.onSlideDown.apply(void 0,arguments)},slideLeft:function(e){arguments[0]=e=t.$handleEvent(e),t.onSlideLeft.apply(void 0,arguments)},slideRight:function(e){arguments[0]=e=t.$handleEvent(e),t.onSlideRight.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"ppic"},[i("v-uni-image",{style:{width:t.screenWidth+"px",height:t.screenWidth*t.form.size1+"px"},attrs:{src:t.form.image}}),i("uni-icons",{staticClass:"icon",style:{position:"fixed",top:t.statusbarHeight+14+"px"},attrs:{type:"back",size:"25",color:"#fff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"bottom",staticStyle:{display:"flex","justify-content":"center"}},[i("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.send.apply(void 0,arguments)}}},[t._v("画同款(消耗"+t._s(t.cost)+t._s(t.unit)+")")])],1),i("ZWait",{ref:"zwait",attrs:{tip:"在我的"}})],1)],1)},s=[]},"772f":function(t,e,i){"use strict";i.r(e);var n=i("1278"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"7d1c":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{width:"100%",height:"100%"},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchStart.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchEnd.apply(void 0,arguments)}}},[t._t("default")],2)},a=[]},"7f07":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"preloader"},[e("v-uni-view",{staticClass:"loader"})],1)},a=[]},"859a":function(t,e,i){"use strict";var n=i("8637"),a=i.n(n);a.a},8637:function(t,e,i){var n=i("d9bc");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("238ede3a",n,!0,{sourceMap:!1,shadowMode:!1})},"8ce4":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uPopup:i("7cd7").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("u-popup",{attrs:{mode:"center"},model:{value:t.isShowLoading,callback:function(e){t.isShowLoading=e},expression:"isShowLoading"}},[i("v-uni-view",{staticClass:"z-wait"},[i("v-uni-view",{staticClass:"load"},[i("v-uni-view",{staticClass:"img"},[i("Loading18")],1),i("v-uni-view",{staticClass:"tit1"},[t._v("正在生成您的作品")]),i("v-uni-view",{staticClass:"progress"},[i("v-uni-view",{staticClass:"blue"})],1),i("v-uni-view",{staticClass:"tit2"},[t._v("预计耗时 10~60秒")]),i("v-uni-view",{staticClass:"tit2",staticStyle:{"margin-top":"6px"}},[t._v("您可以退出本页，稍后"+t._s(t.tip)+"查看您的画作")])],1)],1)],1)},s=[]},"90c0":function(t,e,i){"use strict";i.r(e);var n=i("57b8"),a=i("772f");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("a9da");var r=i("f0c5"),o=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"4ae1735e",null,!1,n["a"],void 0);e["default"]=o.exports},a414:function(t,e,i){"use strict";i.r(e);var n=i("8ce4"),a=i("c6f5");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("859a");var r=i("f0c5"),o=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"c2616e46",null,!1,n["a"],void 0);e["default"]=o.exports},a8dc:function(t,e,i){var n=i("3c6d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("2e13daae",n,!0,{sourceMap:!1,shadowMode:!1})},a9da:function(t,e,i){"use strict";var n=i("a8dc"),a=i.n(n);a.a},b892:function(t,e,i){"use strict";i.r(e);var n=i("e0c1"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},bb02:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'.loader[data-v-41954038]{display:block;position:relative;left:50%;top:50%;width:%?150?%;height:%?150?%;margin:%?-75?% 0 0 %?-75?%;border-radius:50%;border:%?3?% solid transparent;border-top-color:#7cd887;-webkit-animation:spin-data-v-41954038 2s linear infinite;animation:spin-data-v-41954038 2s linear infinite}.loader[data-v-41954038]::before{content:"";position:absolute;top:%?5?%;left:%?5?%;right:%?5?%;bottom:%?5?%;border-radius:50%;border:%?3?% solid transparent;border-top-color:#75ccd1;-webkit-animation:spin-data-v-41954038 3s linear infinite;animation:spin-data-v-41954038 3s linear infinite}.loader[data-v-41954038]::after{content:"";position:absolute;top:%?15?%;left:%?15?%;right:%?15?%;bottom:%?15?%;border-radius:50%;border:%?3?% solid transparent;border-top-color:#5fffea;-webkit-animation:spin-data-v-41954038 1.5s linear infinite;animation:spin-data-v-41954038 1.5s linear infinite}@-webkit-keyframes spin-data-v-41954038{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);-ms-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin-data-v-41954038{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);-ms-transform:rotate(1turn);transform:rotate(1turn)}}',""]),t.exports=e},c3a4:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("c7eb")),s=n(i("1da1")),r=(n(i("ddc5")),{props:{tip:{type:String,default:"返回"}},data:function(){return{isShowLoading:!1}},created:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t;case 1:case"end":return e.stop()}}),e)})))()},methods:{show:function(t){this.isShowLoading=t}}});e.default=r},c6f5:function(t,e,i){"use strict";i.r(e);var n=i("c3a4"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},d9bc:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \n */.z-wait .load[data-v-c2616e46]{padding:%?160?% %?60?% %?80?%;display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative;background:#151520!important}.z-wait .load .tit1[data-v-c2616e46]{color:#fff;font-size:16px;margin-top:40px}.z-wait .load .tit2[data-v-c2616e46]{color:#999}.z-wait .load .progress[data-v-c2616e46]{margin:20px 0;background:#fff;width:200px;border-radius:2px;height:3px}.z-wait .load .progress .blue[data-v-c2616e46]{background:#7cd887;width:140px;height:3px}',""]),t.exports=e},ddc5:function(t,e,i){"use strict";i.r(e);var n=i("7f07"),a=i("3a69");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("2f02");var r=i("f0c5"),o=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"41954038",null,!1,n["a"],void 0);e["default"]=o.exports},e0c1:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var n=30,a=45,s=45,r=Math.tan(a),o=Math.tan(s),u=1e3,c=0,d={},l={name:"wyb-slide-listener",data:function(){return{startX:0,startY:0,lastX:0,lastY:0}},props:{vertDeg:{type:Number,default:45},horiDeg:{type:Number,default:45},vertDif:{type:Number,default:30},horiDif:{type:Number,default:30},timeLim:{type:Number,default:1e3}},created:function(){a=this.vertDeg,s=this.horiDeg,n=this.vertDif,this.horiDif,u=this.timeLim},methods:{touchStart:function(t){this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY,d=setInterval((function(){c+=100}),100)},touchEnd:function(t){this.lastX=t.changedTouches[0].clientX,this.lastY=t.changedTouches[0].clientY;var e={point:{startX:this.startX,startY:this.startY,lastX:this.lastX,lastY:this.lastY},difference:{differenceAbsX:Math.abs(this.startX-this.lastX),differenceAbsY:Math.abs(this.startY-this.lastY),differenceX:this.startX-this.lastX,differenceY:this.startY-this.lastY},stayTime:c};clearInterval(d),c<=u&&(Math.abs((this.lastX-this.startX)/(this.lastY-this.startY))<r?Math.abs(this.startY-this.lastY)>=n&&this.startY-this.lastY>0?(e["type"]="slideUp",this.$emit("slideUp",e)):Math.abs(this.startY-this.lastY)>=n&&this.startY-this.lastY<0&&(e["type"]="slideDown",this.$emit("slideDown",e)):Math.abs((this.lastY-this.startY)/(this.lastX-this.startX))<o&&(Math.abs(this.startX-this.lastX)>=n&&this.startX-this.lastX>0?(e["type"]="slideLeft",this.$emit("slideLeft",e)):Math.abs(this.startX-this.lastX)>=n&&this.startX-this.lastX<0&&(e["type"]="slideRight",this.$emit("slideRight",e)))),c=0}}};e.default=l},edba:function(t,e,i){var n=i("bb02");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("59916030",n,!0,{sourceMap:!1,shadowMode:!1})}}]);