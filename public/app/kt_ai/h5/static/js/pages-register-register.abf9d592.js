(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"13da":function(t,e,n){"use strict";var i=n("370d"),a=n.n(i);a.a},"1d64":function(t,e,n){"use strict";n.r(e);var i=n("aa50"),a=n("8c80");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=s.exports},"23b9":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \n */.subscribe .flex[data-v-e55f043e]{padding:%?24?%;display:flex;color:#fff}.subscribe .text1[data-v-e55f043e]{width:%?130?%}.subscribe .text2[data-v-e55f043e]{color:#c3c3c3;padding-right:%?10?%;width:%?260?%;display:flex;justify-content:flex-end}.subscribe .flex1[data-v-e55f043e]{display:flex;justify-content:center;flex:1;font-size:%?36?%}.subscribe .right[data-v-e55f043e]{color:#828694;font-size:%?32?%}.subscribe .inp1[data-v-e55f043e]{padding:%?16?% %?20?%;display:flex;justify-content:flex-start;align-items:center;flex-direction:row;margin:%?40?%;border-radius:%?60?%;border:1px solid #78a4a1}.subscribe .inp1 .inpt[data-v-e55f043e]{margin-left:%?20?%;color:#fff}.subscribe .code[data-v-e55f043e]{padding:0 %?0?% %?0?% %?20?%;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.subscribe .btn[data-v-e55f043e]{border-radius:%?50?%;background-image:linear-gradient(0deg,#7cd887,#75ccd1);padding:%?26?% %?40?%;color:#000;font-size:%?30?%;font-weight:500;text-align:center;margin:%?40?%}.subscribe .left[data-v-e55f043e]{margin:%?40?% %?60?%;color:#797979}.subscribe .text1[data-v-e55f043e]{color:#78a4a1;white-space:nowrap}@media screen and (min-width:700px){.btn[data-v-e55f043e]{width:660px}}',""]),t.exports=e},"370d":function(t,e,n){var i=n("23b9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("9ad58a22",i,!0,{sourceMap:!1,shadowMode:!1})},"50d0":function(t,e,n){"use strict";var i;n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3"),n("cb29");var a={props:{xzWidth:{type:Number,default:150},xzHeight:{type:Number,default:48},xzCount:{type:Number,default:4}},data:function(){return{text:""}},mounted:function(){this.getCanvas()},methods:{newCanvas:function(){this.getCanvas()},getCanvas:function(){var t=this;i=uni.createCanvasContext("myCanvas",this),i.fillStyle=o(180,240),i.fillRect(0,0,t.xzWidth,t.xzHeight);for(var e="",n="ABCEFGHJKLMNPQRSTWXY123456789",a=0;a<t.xzCount;a++){var s=n[r(0,n.length)];i.fillStyle=o(50,160),i.font=r(20,26)+"px SimHei";var c=10+20*a,u=r(25,30),l=r(-30,30);i.translate(c,u),i.rotate(l*Math.PI/180),i.fillText(s,5,0),e+=s,i.rotate(-l*Math.PI/180),i.translate(-c,-u)}for(a=0;a<4;a++)i.strokeStyle=o(40,180),i.beginPath(),i.moveTo(r(0,t.xzWidth),r(0,t.xzHeight)),i.lineTo(r(0,t.xzWidth),r(0,t.xzHeight)),i.stroke();for(a=0;a<20;a++)i.fillStyle=o(0,255),i.beginPath(),i.arc(r(0,t.xzWidth),r(0,t.xzHeight),1,0,2*Math.PI),i.fill();i.draw(!1,(function(){t.$emit("result",{detail:{text:e}})}))}}};function r(t,e){return Math.floor(Math.random()*(e-t)+t)}function o(t,e){var n=r(t,e),i=r(t,e),a=r(t,e);return"rgb("+n+","+i+","+a+")"}e.default=a},"5c0e":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,r=i(n("c7eb")),o=i(n("1da1")),s=n("70dd"),c=i(n("1d64")),u={name:"subscribe",components:{XzCode:c.default},data:function(){return{timer:null,timeInt:60,codeLoading:!1,showPassword:!1,isSms:"",mobile:"",captcha:"",code:"",password:"",width:100,height:38,count:4,val:""}},onLoad:function(){a=this,a.isSms=uni.getStorageSync("sms")},mounted:function(){},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},computed:{},methods:{result:function(t){console.log("myCanvas",t.detail.text),a.val=t.detail.text},goBack:function(){uni.navigateBack({delta:1})},sendCode:function(){(0,s.debounce)((function(){a.sendCode1()}))},sendCode1:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){var n;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,s.isPhoneNumber)(a.mobile)){e.next=3;break}return t.$u.toast("请输入正确的手机号"),e.abrupt("return");case 3:if(a.captcha.toLowerCase()!=a.val.toLowerCase()){e.next=17;break}if(!t.mobile){e.next=14;break}return t.timeInt=60,t.codeLoading=!0,t.timer=setInterval((function(){0!=t.timeInt?t.timeInt--:(t.codeLoading=!1,clearInterval(t.timer),t.timer=null)}),1e3),e.next=10,t.$u.api.userSendCode({mobile:t.mobile});case 10:n=e.sent,n&&console.log(n),e.next=15;break;case 14:t.$u.toast("请输入正确的手机号");case 15:e.next=18;break;case 17:t.$u.toast("请输入正确的验证码");case 18:case"end":return e.stop()}}),e)})))()},jumpLogin:function(){uni.navigateTo({url:"/pages/login/login"})},login:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){var n,i;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,s.isPhoneNumber)(a.mobile)){e.next=3;break}return t.$u.toast("请输入正确的手机号"),e.abrupt("return");case 3:return n=uni.getStorageSync("inviteId"),uni.setStorageSync("inviteId",""),e.next=7,a.$u.api.userRegiser({mobile:a.mobile,password:a.password,code:t.code,parent:n});case 7:i=e.sent,i&&(a.$u.toast("注册成功"),setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),2e3));case 9:case"end":return e.stop()}}),e)})))()}}};e.default=u},"70dd":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];null!==r&&clearTimeout(r);if(n){var i=!r;r=setTimeout((function(){r=null}),e),i&&"function"===typeof t&&t()}else r=setTimeout((function(){"function"===typeof t&&t()}),e)},e.deepClone=function t(e){if(!e&&"object"!==(0,a.default)(e))throw new Error("error arguments","deepClone");var n=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(i){e[i]&&"object"===(0,a.default)(e[i])?n[i]=t(e[i]):n[i]=e[i]})),n},e.handleSymbol=function(t){var e=t.replaceAll("<br/>","\n");return e=e.replaceAll("&nbsp;"," "),e},e.handleSymbolVoice=function(t){var e=t.replaceAll("<br/>","");return e=e.replaceAll("&nbsp;",""),e},e.isMobile=function(){try{return/(iPhone|iPad|iPod|iOS|Android|Linux armv8l|Linux armv7l|Linux aarch64)/i.test(navigator.platform)}catch(t){return!0}},e.isPhoneNumber=function(t){return/^0?1[3|4|5|6|7|8][0-9]\d{8}$/.test(t)},n("d9e2"),n("d401"),n("d3b7"),n("159b"),n("b64b"),n("ac1f"),n("5319"),n("5b81"),n("00b4");var a=i(n("53ca"));var r=null},"826c":function(t,e,n){"use strict";n.r(e);var i=n("8605"),a=n("954b");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("13da");var o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"e55f043e",null,!1,i["a"],void 0);e["default"]=s.exports},8605:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("6075").default,xzCode:n("1d64").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"s-back subscribe"},[n("v-uni-view",{staticClass:"flex",staticStyle:{"align-items":"center"}},[n("v-uni-view",{staticClass:"text1"},[n("uni-icons",{attrs:{type:"back",size:"25",color:"#fff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"flex1"},[t._v("注册")]),n("v-uni-view",{staticClass:"right",staticStyle:{color:"transparent"}},[t._v("恢复订阅")])],1),n("v-uni-view",{staticClass:"inp1",staticStyle:{"margin-top":"120rpx"}},[n("v-uni-input",{ref:"inputRef",staticClass:"inpt",staticStyle:{"font-size":"30rpx"},attrs:{placeholder:"手机号","confirm-type":"send","cursor-spacing":"40","adjust-position":!1},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),1==t.isSms?n("v-uni-view",{staticClass:"inp1 code"},[n("v-uni-input",{ref:"inputRef",staticClass:"inpt",staticStyle:{"font-size":"30rpx",width:"calc(100% - 200rpx)"},attrs:{placeholder:"请填写图形验证码","confirm-type":"send","cursor-spacing":"40","adjust-position":!1},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}}),n("xz-code",{ref:"myCanvas",staticClass:"box",attrs:{xzWidth:t.width,xzHeight:t.height,xzCount:t.count},on:{result:function(e){arguments[0]=e=t.$handleEvent(e),t.result.apply(void 0,arguments)}}})],1):t._e(),1==t.isSms?n("v-uni-view",{staticClass:"inp1"},[n("v-uni-input",{ref:"inputRef",staticClass:"inpt",staticStyle:{"font-size":"30rpx",width:"calc(100% - 260rpx)"},attrs:{placeholder:"请填写短信验证码","confirm-type":"send","cursor-spacing":"40","adjust-position":!1},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t.codeLoading?n("v-uni-text",{staticClass:"text2"},[t._v(t._s(t.timeInt)+"秒后可重新发送")]):n("v-uni-text",{staticClass:"text2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendCode.apply(void 0,arguments)}}},[t._v("发送验证码")])],1):t._e(),n("v-uni-view",{staticClass:"inp1"},[n("v-uni-input",{ref:"inputRef",staticClass:"inpt",staticStyle:{"font-size":"30rpx",width:"100%"},attrs:{placeholder:"请设置密码","confirm-type":"send","cursor-spacing":"40",password:!t.showPassword,"adjust-position":!1},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.showPassword?n("uni-icons",{staticStyle:{"margin-left":"14px"},attrs:{type:"eye",size:"20",color:"#999"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPassword=!1}}}):n("uni-icons",{staticStyle:{"margin-left":"14px"},attrs:{type:"eye-slash",size:"20",color:"#999"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPassword=!0}}})],1),n("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v("注册")]),n("v-uni-view",{staticClass:"left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpLogin.apply(void 0,arguments)}}},[t._v("去登录")])],1)},r=[]},"8c80":function(t,e,n){"use strict";n.r(e);var i=n("50d0"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"954b":function(t,e,n){"use strict";n.r(e);var i=n("5c0e"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},aa50:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{style:{width:t.xzWidth+"px",height:t.xzHeight+"px"}},[n("v-uni-canvas",{style:{width:t.xzWidth+"px",height:t.xzHeight+"px"},attrs:{"canvas-id":"myCanvas"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.newCanvas.apply(void 0,arguments)}}})],1)},a=[]},cb29:function(t,e,n){var i=n("23e7"),a=n("81d5"),r=n("44d2");i({target:"Array",proto:!0},{fill:a}),r("fill")}}]);